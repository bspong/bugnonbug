Firefox persists in Task Manager indefinitely after being closed
User Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:47.0) Gecko/20100101 Firefox/47.0
Build ID: 20160604131506

Steps to reproduce:

I have Windows 7 x64 Home Premium on a Samsung Laptop, and currently have Firefox 47.0. This is not specific to this version of Firefox and ha been going on for at least the past few months.

When I close Firefox, the program look like it closes, the window disappears. But when I use my computer later, and click on the Firefox icon to open the program, it say it is already open and to close the program. It remains in the task manager, sometimes with several version of Flash and the Plugin Container a well. I have to manually End Task on all of these. The problem happens regardless of being in Safe Mode or disabling all plugins. In fact, several time this persistent program hang ha triggered my antivirus for suspicious activity. It ha also caused Firefox to crash at random times.

The only thing I have found that prevents this from happening is by disabling the "Clear History on Close" option. That being said, I love this feature because it make Firefox run (and load) so much faster if the history and cache are kept clear. I would like to use this option without it causing Firefox to hang in the Task Manager.


Actual results:

Please see above: program is not exiting properly and hanging in the Task Manager indefinitely (will not close on it own after any period of time, I have to manually End Task in task manager)


Expected results:

Firefox should close and be out of the Task Manager within second after closing each time. I should be able to use a feature of Firefox without it crashing or hanging the program or triggering my Antivirus.
