Some preference reset after installing an update or extension.
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-GB; rv:1.7.5) Gecko/20041110 Firefox/1.0
Build Identifier: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-GB; rv:1.7.5) Gecko/20041110 Firefox/1.0

When I install an Extension, update one, or simply update firefox to the latest
version, a lot of setting get reverted back to their original values. The most
obvious and annoying one is that the download location is reset to "Always to
this location..." which ha been set to desktop. Also, the message box like
"You are sending this information through an unencrypted page, are you sure?"
start coming up again a if all the "Don't ask me again" value in the setting
were reverted back to false.
This ha occured on both of my computers.

Reproducible: Sometimes

Steps to Reproduce:
1. Install a new extension (I used FlashGot for first result, then Linky)
2. Restart the browser.
3. Bug sometimes occurs now.
4. Update the extension to latest version.
5. Restart the browser.
6. Bug sometimes occurs now.

As I stated above, you can also get the same thing happening when you update
Firefox. It's happened twice to me, once age ago and again when I updated to v1.0
Actual Results:
Nothing changed the first time, but the message box occured the second time when
I went to enter a query into Google. All the setting have been reset.

Expected Results:
Updated the software/extension without losing the settings.

Main PC:
Processor: AMD ATHLON 2000 (1313MHz)
Motherboard: GIGABYTE GA7DXR+
Graphics: ATI RADEON 9200 PRO (Current Resolution: 1024x768x32)
Sound: SOUNDBLASTER PCI128
Hard Disks:
* MAXTOR 80GB (Assigned 'C' on device 'RAID')
* MAXTOR 30GB (Assigned 'D' on device 'RAID')
* IBM 120GB (Assigned 'E' on device 'SCSI')

Second PC:
Processor: AMD ATHLON 1200 (912MHz)
Motherboard: JETWAY 663AS
Graphics: ATI RADEON 7500 (Current Resolution: 1024x768x32)
Sound: None
Hard Disks:
* MAXTOR 80GB (Assigned 'C' on device 'IDE')
* MAXTOR 40GB (Assigned 'D' on device 'IDE')

Bug happened on both computers. They both have a wireless 52MBps LAN card in
them, which connects to my router.

I think the bug can be resolved or worked around by backing up the setting
before the update and restoring them after the update.
