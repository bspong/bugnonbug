Bad encoding of accented (IDN) domain when accessed from History in menu bar
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.8.1.9) Gecko/20071025 Firefox/2.0.0.9
Build Identifier: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.8.1.9) Gecko/20071025 Firefox/2.0.0.9

Most recent history entry accessed with the History menu from the menu bar do not store IDN domain correctly. Those are domain name with accented letters. The URL show scrambled letters, and doesn't bring back to the original visited page, but to a "Server not found" error page.

Accessing the same history entry with the back button on the toolbar, or the menu next to the back button (the little down arrow) work fine however.

Reproducible: Always

Steps to Reproduce:
1. Go to a domain with accented letters, say http://www.öpfl.ch/ (note the 2 dot above the o)
2. Go to any other page, on another domain, say http://www.mozilla.org/
3. In the History menu in the menu bar, select the first entry (öpfl.ch)
Actual Results:
URL show http://www.ã¶pfl.ch/ (that's an accented a and a paragraph character, in place of the accented o), with a "Server not found" error page.

Expected Results:
http://www.öpfl.ch/ a URL, with corresponding web page displayed.
