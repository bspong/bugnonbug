Compilation error in /cvsroot/mozilla/layout/build/nsLayoutStatics.cpp with libart a svg renderer
User-Agent: Mozilla/5.0 (X11; U; SunOS sun4u; fr-FR; rv:1.8.0.7) Gecko/20061012 Firefox/1.5.0.7
Build Identifier: Mozilla/5.0 (X11; U; SunOS sun4u; fr-FR; rv:1.8.0.7) Gecko/20061012 Firefox/1.5.0.7

Two function declaration

Reproducible: Always

Steps to Reproduce:
1. Error occurs during build from the source
2. In the mozconfig use the following option

ac_add_options --enable-svg
ac_add_options --enable-svg-renderer=libart
ac_add_options --enable-system-libart

3. Compilation fails in mozilla/layout/build/nsLayoutStatics.cpp


Run compilation (gmake -f client.mk build)
Actual Results:
CC -o nsLayoutStatics.o -c -DXPCOM_TRANSLATE_NSGM_ENTRY_POINT=1 -DMOZILLA_INTERNAL_API -DOSTYPE=\"SunOS5\" -DOSARCH=\"SunOS\" -DBUILD_ID=0000000000 -D_IMPL_NS_LAYOUT -I/export/home/william/community/mozilla/firefox/firefox.FIREFOX_2_0_RELEASE/mozilla/layout/build/../base -I/export/home/william/community/mozilla/firefox/firefox.FIREFOX_2_0_RELEASE/mozilla/layout/build/../generic -I/export/home/william/community/mozilla/firefox/firefox.FIREFOX_2_0_RELEASE/mozilla/layout/build/../forms -I/export/home/william/community/mozilla/firefox/firefox.FIREFOX_2_0_RELEASE/mozilla/layout/build/../style -I/export/home/william/community/mozilla/firefox/firefox.FIREFOX_2_0_RELEASE/mozilla/layout/build/../xul/content/src -I/export/home/william/community/mozilla/firefox/firefox.FIREFOX_2_0_RELEASE/mozilla/layout/build/../xul/base/src -I/export/home/william/community/mozilla/firefox/firefox.FIREFOX_2_0_RELEASE/mozilla/layout/build/../inspector/src -I/export/home/william/community/mozilla/firefox/firefox.FIREFOX_2_0_RELEASE/mozilla/layout/build/../../content/base/src -I/export/home/william/community/mozilla/firefox/firefox.FIREFOX_2_0_RELEASE/mozilla/layout/build/../../content/html/content/src -I/export/home/william/community/mozilla/firefox/firefox.FIREFOX_2_0_RELEASE/mozilla/layout/build/../../content/html/document/src -I/export/home/william/community/mozilla/firefox/firefox.FIREFOX_2_0_RELEASE/mozilla/layout/build/../../content/html/style/src -I/export/home/william/community/mozilla/firefox/firefox.FIREFOX_2_0_RELEASE/mozilla/layout/build/../../content/xul/content/src -I/export/home/william/community/mozilla/firefox/firefox.FIREFOX_2_0_RELEASE/mozilla/layout/build/../../content/xul/templates/src -I/export/home/william/community/mozilla/firefox/firefox.FIREFOX_2_0_RELEASE/mozilla/layout/build/../../content/events/src -I/export/home/william/community/mozilla/firefox/firefox.FIREFOX_2_0_RELEASE/mozilla/layout/build/../../content/xbl/src -I/export/home/william/community/mozilla/firefox/firefox.FIREFOX_2_0_RELEASE/mozilla/view/src -I/export/home/william/community/mozilla/firefox/firefox.FIREFOX_2_0_RELEASE/mozilla/dom/src/base -I/export/home/william/community/mozilla/firefox/firefox.FIREFOX_2_0_RELEASE/mozilla/dom/src/jsurl -I/export/home/william/community/mozilla/firefox/firefox.FIREFOX_2_0_RELEASE/mozilla/dom/src/storage -I. -I/export/home/william/community/mozilla/firefox/firefox.FIREFOX_2_0_RELEASE/mozilla/layout/build/../mathml/content/src -I/export/home/william/community/mozilla/firefox/firefox.FIREFOX_2_0_RELEASE/mozilla/layout/build/../../content/svg/content/src -I../../dist/include/xpcom -I../../dist/include/string -I../../dist/include/content -I../../dist/include/gfx -I../../dist/include/widget -I../../dist/include/view -I../../dist/include/locale -I../../dist/include/necko -I../../dist/include/dom -I../../dist/include/storage -I../../dist/include/editor -I../../dist/include/webshell -I../../dist/include/docshell -I../../dist/include/htmlparser -I../../dist/include/js -I../../dist/include/xpconnect -I../../dist/include/uriloader -I../../dist/include/caps -I../../dist/include/necko2 -I../../dist/include/rdf -I../../dist/include/xuldoc -I../../dist/include/imglib2 -I../../dist/include/pref -I../../dist/include/unicharutil -I../../dist/include/xul -I../../dist/include/xultmpl -I../../dist/include/lwbrk -I../../dist/include/plugin -I../../dist/include/commandhandler -I../../dist/include/webbrwsr -I../../dist/include/uconv -I../../dist/include/inspector -I../../dist/include/layout -I../../dist/include -I../../dist/include/nspr -I/usr/include -I../../dist/sdk/include -I/usr/openwin/include -I/usr/include -I/usr/sfw/include -I/usr/sfw/include/freetype2 -I/usr/openwin/include -s -xarch=v8plus -xlibmopt -xlibmil -xildoff -fns=yes -fsimple=2 -xalias_level -xbuiltin=%all -xdepend=yes -xmemalign=8s -xprefetch=auto,explicit -features=tmplife -norunpath -xbuiltin=%all -features=tmplife -mt -DNDEBUG -DTRIMMED -xO5 -I/usr/include -I/usr/sfw/include -I/usr/sfw/include/freetype2 -I/usr/openwin/include -DMOZILLA_CLIENT -D_MOZILLA_CONFIG_H_ -DMOZILLA_VERSION=\"1.8.1\" -DMOZILLA_VERSION_U=1.8.1 -DSOLARIS=1 -DNSCAP_DISABLE_DEBUG_PTR_TYPES=1 -DD_INO=d_ino -DSTDC_HEADERS=1 -DHAVE_ST_BLKSIZE=1 -DHAVE_SIGINFO_T=1 -DHAVE_INT16_T=1 -DHAVE_INT32_T=1 -DHAVE_INT64_T=1 -DHAVE_UINT=1 -DHAVE_UINT_T=1 -DHAVE_UINT16_T=1 -DHAVE_DIRENT_H=1 -DHAVE_SYS_BYTEORDER_H=1 -DHAVE_GETOPT_H=1 -DHAVE_MEMORY_H=1 -DHAVE_UNISTD_H=1 -DHAVE_NL_TYPES_H=1 -DHAVE_MALLOC_H=1 -DHAVE_X11_XKBLIB_H=1 -DHAVE_SYS_STATVFS_H=1 -DHAVE_SYS_STATFS_H=1 -DHAVE_LIBM=1 -DHAVE_LIBDL=1 -DHAVE_LIBSOCKET=1 -DFUNCPROTO=15 -DHAVE_XSHM=1 -D_REENTRANT=1 -DHAVE_RANDOM=1 -DHAVE_STRERROR=1 -DHAVE_LCHOWN=1 -DHAVE_FCHMOD=1 -DHAVE_SNPRINTF=1 -DHAVE_MEMMOVE=1 -DHAVE_RINT=1 -DHAVE_STAT64=1 -DHAVE_LSTAT64=1 -DHAVE_FLOCKFILE=1 -DHAVE_LOCALTIME_R=1 -DHAVE_STRTOK_R=1 -DHAVE_LANGINFO_CODESET=1 -DVA_COPY=va_copy -DHAVE_VA_COPY=1 -DHAVE_I18N_LC_MESSAGES=1 -DMOZ_DEFAULT_TOOLKIT=\"gtk2\" -DMOZ_WIDGET_GTK2=1 -DMOZ_ENABLE_XREMOTE=1 -DMOZ_X11=1 -DMOZ_PHOENIX=1 -DMOZ_BUILD_APP=browser -DMOZ_XUL_APP=1 -DMOZ_ENABLE_CANVAS=1 -DMOZ_DISTRIBUTION_ID=\"org.mozilla\" -DMOZ_ENABLE_XFT=1 -DMOZ_ENABLE_GNOMEUI=1 -DMOZ_EXTRA_X11CONVERTERS=1 -DOJI=1 -DIBMBIDI=1 -DMOZ_VIEW_SOURCE=1 -DACCESSIBILITY=1 -DMOZ_XPINSTALL=1 -DMOZ_JSLOADER=1 -DNS_PRINTING=1 -DNS_PRINT_PREVIEW=1 -DMOZ_XTF=1 -DMOZ_MATHML=1 -DMOZ_SVG=1 -DMOZ_SVG_RENDERER_LIBART=1 -DMOZ_UPDATE_CHANNEL=default -DMOZ_FEEDS=1 -DMOZ_STORAGE=1 -DMOZ_SAFE_BROWSING=1 -DMOZ_URL_CLASSIFIER=1 -DMOZ_LOGGING=1 -DMOZ_USER_DIR=\".mozilla\" -DHAVE_ALLOCA_H=1 -DHAVE_ALLOCA=1 -DHAVE_STDINT_H=1 -DHAVE_INTTYPES_H=1 -DHAVE_SYS_INT_TYPES_H=1 -DHAVE_UINT64_T=1 -DMOZ_XUL=1 -DMOZ_PROFILELOCKING=1 -DMOZ_MORK=1 -DMOZ_DLL_SUFFIX=\".so\" -DXP_UNIX=1 -DUNIX_ASYNC_DNS=1 -DJS_THREADSAFE=1 -DMOZ_ACCESSIBILITY_ATK=1 -DMOZILLA_1_8_BRANCH=1 -DMOZILLA_LOCALE_VERSION=\"1.8.1rc\" -DMOZILLA_REGION_VERSION=\"1.8.1rc\" -DMOZILLA_SKIN_VERSION=\"1.8\" /export/home/william/community/mozilla/firefox/firefox.FIREFOX_2_0_RELEASE/mozilla/layout/build/nsLayoutStatics.cpp
"/export/home/william/community/mozilla/firefox/firefox.FIREFOX_2_0_RELEASE/mozilla/layout/build/../generic/nsBlockFrame.h", line 680: Warning: nsBlockFrame::GetAscent hide the virtual function nsFrame::GetAscent(nsBoxLayoutState&, int&).
"../../dist/include/dom/nsIDOMXULMultSelectCntrlEl.h", line 75: Warning: nsIDOMXULMultiSelectControlElement::GetSelectedItem hide the virtual function nsIDOMXULSelectControlElement::GetSelectedItem(nsIDOMXULSelectControlItemElement**).
"/export/home/william/community/mozilla/firefox/firefox.FIREFOX_2_0_RELEASE/mozilla/layout/build/nsLayoutStatics.cpp", line 172: Error: The function "NS_InitSVGRendererLibartGlobals" must have a prototype.
"/export/home/william/community/mozilla/firefox/firefox.FIREFOX_2_0_RELEASE/mozilla/layout/build/nsLayoutStatics.cpp", line 232: Error: The function "NS_FreeSVGRendererLibartGlobals" must have a prototype.


Expected Results:
It should compile :)

A patch will be attached after by declaration
