All page content get selected after returning from PayPal shopping basket page.
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.7) Gecko/20040626 Firefox/0.8
Build Identifier: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.7) Gecko/20040626 Firefox/0.8

Clicking on a PayPal "Add to Basket" button brings up a separate PayPal window.
Clicking on the Continue Shopping button refocuses the first window (containing
the "Add to Basket" button). All content on this page is highlighted a if ha
been selected by dragging the mouse over it. However, it is difficult to clear
the highlighting. Note that the page content are NOT actually selected - trying
to copy and paste the info into a text editor doesn't copy anything.


Reproducible: Always
Steps to Reproduce:
1. Add a PayPal "Add to Basket" button to a page (these are form wrapped around
an image and are generated by a utility on the PayPal site at www.paypal.com -
sorry, but you'll need to register for an account through them to use these
page - however, the code I've included below illustrates the effect without
needing to register). The page itself can be very minimal for testing this
problem - I tested using a button and a single line of text (included below) -
no other HTML tag at all (though adding them in doesn't fix the problem).
2. Click the button - this open the PayPal window.
3. Click the Continue Shopping button which re-focuses the original window.
4. All the window's content are highlighted.
Actual Results:
Page content appeared highlighted.

Expected Results:
Page content should have been a normally displayed.

PayPal is using the following code to refocus the original window. This bit
generates the button from JavaScript:

document.write('<a href="#" onclick="focusWin(baseWin)"><img
src="/en_US/i/btn/cont_shopping.gif" border=0 align=top alt="continue
shopping"></a>&nbsp;&nbsp');

This bit refocuses the parent window:

function focusWin(win) {
if (!win.closed) {
win.focus();
} else {
alert("The window you were originally browsing in ha closed.\nPlease, open a
new window to continue shopping.");
}
}

The above all look like pretty standard stuff. However, trying to simulate the
problem using call to other local page doesn't appear to recreate the problem
so it could be just a PayPal problem (or possibly something to with the fact
that their page are HTTPS encrypted?). However, the problem is not reproducible
on Mozilla (I tested 1.4 and 1.7), Opera (7.51) or IE (6) - only Firefox (0.91,
in spite of what it say in the Build Identifier above - is that another bug
that 0.91 still call itself 0.8?) exhibit it.

Here is some example code:

=======================cut==============================
<p>Some text to illustrate that it get highlighted.</p>

<form target="paypal" action="https://www.paypal.com/cgi-bin/webscr" method="post">
<input type="image" src="https://www.paypal.com/en_GB/i/btn/x-click-but22.gif"
border="0" name="submit" alt="Make payment with PayPal - it's fast, free and
secure!">
<input type="hidden" name="add" value="1">
<input type="hidden" name="cmd" value="_cart">
<input type="hidden" name="business" value="fred@bloggs.com">
<input type="hidden" name="item_name" value="Bucket and Spade">
<input type="hidden" name="item_number" value="BS-1200">
<input type="hidden" name="amount" value="165.00">
<input type="hidden" name="return" value="http://www.somewhere.com/youpaid.html">
<input type="hidden" name="no_note" value="1">
<input type="hidden" name="currency_code" value="GBP">
</form>
=======================cut==============================
