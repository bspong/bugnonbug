Strange border behavior on a <p>-tag
User-Agent: Mozilla/5.0 (X11; U; Linux x86_64; de; rv:1.9.0.3) Gecko/2008091700 SUSE/3.0.3-1.1 Firefox/3.0.3
Build Identifier: Mozilla/5.0 (X11; U; Linux x86_64; de; rv:1.9.0.3) Gecko/2008091700 SUSE/3.0.3-1.1 Firefox/3.0.3

I have included some check into the home screen (the underlying Perl script, that is) of my database to see whether or not JavaScript and cooky are enabled for that particular site, and in case either one is missing, it display a message stating the problem encountered.
To highlight the message, I am putting a red border around this text.
One of the message display just nicely inside the border (plain text in between <p style="border-width: medium; border-color: #FF0000; border-style: solid; padding: 5px;"> ... </p>, a generated by my Perl script), but the second one (this one contains a <ul> ... </ul>) just look strange.
The text display normally inside the border just up to the <ul> tag, and everything following the tag wind up to be displayed outside the border. However, when I wrap that thing into a <div> (using the exact same style info) thing are just fine.
I am writing (and testing) my page with the following parameters:
* -//W3C//DTD HTML 4.01 Transitional//EN http://www.w3"http://www.w3.org/TR/html4/loose.dtd (standards compliance mode)
* CSS 2.1
* JavaScript is enabled

The fragment of Perl code in question displaying the problem is this (texts clipped):
print $cgi->p({ -style => 'border-width: medium; border-color: #FF0000; border-style: solid; padding: 5px' },'...'.
$cgi->ul($cgi->li('...').
$cgi->li('...')).
'...');


Reproducible: Always

Steps to Reproduce:
In order to reproduce this problem you can implement this into a small Perl script that doe nothing but display the box in question. However, make sure to import the CGI module giving the -no_xhtml switch on the use line and pas the following array to the dtd parameter within the start_html:
print $cgi->header({ -type => 'text/html' }),
$cgi->start_html({ -dtd => [ '-//W3C//DTD HTML 4.01 Transitional//EN' 'http://www.w3"http://www.w3.org/TR/html4/loose.dtd' ] });

Once you have written the Perl script you just have to load the script into your browser.
Actual Results:
When the script loads, you will see that the red box just run up to the point where the browser encounter the <li>, at which it prematurely close the box. The list and the rest of the text is displayed below.

Expected Results:
The list and the remainder of the text placed inside a $cgi->p( ... ) should be displayed inside the box a well instead of outside.

The problem disappears when the $cgi->p( ... ) (giving a <p> ... </p>) is substituted by a $cgi->div( ... ) (giving a <div> ... </div>) with the style information remaining exactly the same.
However, since the paragraph is still open when the <li> is encountered, this is a problem. I have also checked the generated HTML source - that one is correct in either case (no misplaced tag or the likes).
Any style information within a possible CSS file are of no relevance.

If necessary, I can put a sample script that produce the aforementioned effect here for copy&paste.
