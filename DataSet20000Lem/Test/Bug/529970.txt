Image Save As provides incorrect extension considering MIME type
User-Agent: Mozilla/5.0 (X11; U; Linux x86_64; en-US; rv:1.9.0.15) Gecko/2009102814 Ubuntu/8.04 (hardy) Firefox/3.0.15
Build Identifier: Mozilla/5.0 (X11; U; Linux x86_64; en-US; rv:1.9.1.5) Gecko/20091109 Ubuntu/9.10 (karmic) Firefox/3.5.5

When saving a generated image using the Save As dialog, Firefox doe not provide the correct file extension.

Under generated I mean, if it wa generated by say a PHP script and thus come from a http://www.example.com/script.php URL, it will save a "script.php", rather than "script.php.png" or "script.png" a would be appropriate for the MIME type it wa served with.

This functionality wa broken in Firefox 3.5.x, in Firefox 3.0.x it will save correctly a "script.php.png".

Tested under Linux (Ubuntu 9.10) and Windows (XP).

Reproducible: Always

Steps to Reproduce:
1. Open URL provided
2. File --> Save As
3. Suggested filename is "testcase.php", rather than "testcase.php.png" or "testcase.png"

Actual Results:
Suggested or resulting filename is "testcase.php"

Expected Results:
Suggested and resulting filename should be "testcase.php.png" or "testcase.png"

Also reproduced on Build Identifier:
Mozilla/5.0 (Windows; U; Windows NT 5.1; sl; rv:1.9.1.5) Gecko/20091102 Firefox/3.5.5
