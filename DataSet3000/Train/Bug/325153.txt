Update duplicate collapsing when history items are deleted
Here's what my history looks like if I start Firefox a lot over and over and navigate nowhere:

G  Mozilla Firefox Start Page      http://www.google.com/firefox?client...
#  (no title)                      http://en-us.start.mozilla.com/firef...
..........................................................................
G  Mozilla Firefox Start Page      http://www.google.com/firefox?client...
#  (no title)                      http://en-us.start.mozilla.com/firef...
..........................................................................
G  Mozilla Firefox Start Page      http://www.google.com/firefox?client...
#  (no title)                      http://en-us.start.mozilla.com/firef...
..........................................................................
G  Mozilla Firefox Start Page      http://www.google.com/firefox?client...
#  (no title)                      http://en-us.start.mozilla.com/firef...
..........................................................................
G  Mozilla Firefox Start Page      http://www.google.com/firefox?client...
#  (no title)                      http://en-us.start.mozilla.com/firef...
..........................................................................
G  Mozilla Firefox Start Page      http://www.google.com/firefox?client...
#  (no title)                      http://en-us.start.mozilla.com/firef...
..........................................................................
G  Mozilla Firefox Start Page      http://www.google.com/firefox?client...
#  (no title)                      http://en-us.start.mozilla.com/firef...
..........................................................................
.
.
.

This is really ugly. Also, when you delete one of those entries, the view mysteriously/magically jumps to show only the other items:

G  Mozilla Firefox Start Page      http://www.google.com/firefox?client...
..........................................................................
G  Mozilla Firefox Start Page      http://www.google.com/firefox?client...
..........................................................................
G  Mozilla Firefox Start Page      http://www.google.com/firefox?client...
..........................................................................
G  Mozilla Firefox Start Page      http://www.google.com/firefox?client...
..........................................................................
G  Mozilla Firefox Start Page      http://www.google.com/firefox?client...
..........................................................................
G  Mozilla Firefox Start Page      http://www.google.com/firefox?client...
..........................................................................
G  Mozilla Firefox Start Page      http://www.google.com/firefox?client...
..........................................................................
G  Mozilla Firefox Start Page      http://www.google.com/firefox?client...
..........................................................................
.
.
.

... which is really disorienting. I know delete means "eradicate this URL from my history" and that's what it should do, but showing the same URL so many times results in this confusion.

I think you should show a single URI no more than once per screenful. What makes this difficult is session grouping. I was also going to file a bug/complain about how small sessions like the ones described above result in many dotted lines, which makes the tree look awkward. I think maybe trail-less sessions should be compacted together in some way to reduce the visual noise.