Crash [@ nsGenericElement::cycleCollection::Traverse(void *,nsCycleCollectionTraversalCallback &)] during mochitest-browser-chrome
http://tinderbox.mozilla.org/showlog.cgi?log=Firefox/1271861213.1271862028.28373.gz

> TEST-UNEXPECTED-FAIL | automation.py | Exited with code -1073741819 during test run
> INFO | automation.py | Application ran for: 0:01:22.687000
> INFO | automation.py | Reading PID log: c:\docume~1\cltbld\locals~1\temp\tmpoeuxcapidlog
> ==> process 984 launched child process 2252
> INFO | automation.py | Checking for orphan process with PID: 2252
> PROCESS-CRASH | automation.py | application crashed (minidump found)
> Operating system: Windows NT
>                   5.2.3790 Service Pack 2
> CPU: x86
>      GenuineIntel family 6 model 23 stepping 8
>      1 CPU
> 
> Crash reason:  EXCEPTION_ACCESS_VIOLATION
> Crash address: 0xd945748
> 
> Thread 0 (crashed)
>  0  xul.dll!nsGenericElement::cycleCollection::Traverse(void *,nsCycleCollectionTraversalCallback &) [nsGenericElement.cpp:e7e7a4fe417c : 4099 + 0x9]
>     eip = 0x10125e29   esp = 0x00129b70   ebp = 0x0d945730   ebx = 0x0e0ae9ec
>     esi = 0x0d945730   edi = 0x00129bd0   eax = 0x10120cb0   ecx = 0x10ac2edc
>     edx = 0x0dd67248   efl = 0x00210206
>     Found by: given as instruction pointer in context
>  1  xul.dll!nsCycleCollector::MarkRoots(GCGraphBuilder &) [nsCycleCollector.cpp:e7e7a4fe417c : 1704 + 0x39]
>     eip = 0x10125a7b   esp = 0x00129b8c   ebp = 0x00000000
>     Found by: call frame info with scanning
>  2  xul.dll + 0xac2ebb
>     eip = 0x10ac2ebc   esp = 0x00129bb0   ebp = 0x0d945730
>     Found by: call frame info
>  3  xul.dll!nsCycleCollector::BeginCollection() [nsCycleCollector.cpp:e7e7a4fe417c : 2605 + 0x14]
>     eip = 0x100366db   esp = 0x00129bb8   ebp = 0x0d945730
>     Found by: stack scanning
>  4  xul.dll!nsCycleCollector::BeginCollection() [nsCycleCollector.cpp:e7e7a4fe417c : 2642 + 0x9]
>     eip = 0x100366ef   esp = 0x00129bbc   ebp = 0x0d945730
>     Found by: stack scanning

And there are many javascript error before crash:

> TEST-PASS | chrome://mochikit/content/browser/browser/components/privatebrowsing/test/browser/browser_privatebrowsing_sslsite_transition.js | The original SSL page should be loaded at this stage
> TEST-INFO | checking window state
> Running chrome://mochikit/content/browser/browser/components/privatebrowsing/test/browser/browser_privatebrowsing_theming.js...
> TEST-PASS | chrome://mochikit/content/browser/browser/components/privatebrowsing/test/browser/browser_privatebrowsing_theming.js | browsingmode should be "normal" initially
> TEST-PASS | chrome://mochikit/content/browser/browser/components/privatebrowsing/test/browser/browser_privatebrowsing_theming.js | browsingmode should be "private" inside the private browsing mode
> TEST-PASS | chrome://mochikit/content/browser/browser/components/privatebrowsing/test/browser/browser_privatebrowsing_theming.js | browsingmode should be "normal" outside the private browsing mode
> TEST-INFO | checking window state
> Running chrome://mochikit/content/browser/browser/components/privatebrowsing/test/browser/browser_privatebrowsing_transition.js...
> TEST-PASS | chrome://mochikit/content/browser/browser/components/privatebrowsing/test/browser/browser_privatebrowsing_transition.js | There should only be one tab
> TEST-PASS | chrome://mochikit/content/browser/browser/components/privatebrowsing/test/browser/browser_privatebrowsing_transition.js | The notification shouldn't have been sent yet
> TEST-PASS | chrome://mochikit/content/browser/browser/components/privatebrowsing/test/browser/browser_privatebrowsing_transition.js | This should be the first notification
> TEST-PASS | chrome://mochikit/content/browser/browser/components/privatebrowsing/test/browser/browser_privatebrowsing_transition.js | The first unload event should have been processed by now
> TEST-PASS | chrome://mochikit/content/browser/browser/components/privatebrowsing/test/browser/browser_privatebrowsing_transition.js | The notification shouldn't have been sent yet
> TEST-PASS | chrome://mochikit/content/browser/browser/components/privatebrowsing/test/browser/browser_privatebrowsing_transition.js | This should be the second notification
> TEST-PASS | chrome://mochikit/content/browser/browser/components/privatebrowsing/test/browser/browser_privatebrowsing_transition.js | The second unload event should have been processed by now
> TEST-PASS | chrome://mochikit/content/browser/browser/components/privatebrowsing/test/browser/browser_privatebrowsing_transition.js | There shouldn't be any cookies once pb mode has exited
> TEST-INFO | checking window state
> Running chrome://mochikit/content/browser/browser/components/privatebrowsing/test/browser/browser_privatebrowsing_ui.js...
> TEST-PASS | chrome://mochikit/content/browser/browser/components/privatebrowsing/test/browser/browser_privatebrowsing_ui.js | The gPrivateBrowsingUI object exists
> TEST-PASS | chrome://mochikit/content/browser/browser/components/privatebrowsing/test/browser/browser_privatebrowsing_ui.js | The private browsing mode should not be started initially
> TEST-PASS | chrome://mochikit/content/browser/browser/components/privatebrowsing/test/browser/browser_privatebrowsing_ui.js | gPrivateBrowsingUI should expose the correct private browsing status
> TEST-PASS | chrome://mochikit/content/browser/browser/components/privatebrowsing/test/browser/browser_privatebrowsing_ui.js | The Private Browsing menu item exists
> TEST-PASS | chrome://mochikit/content/browser/browser/components/privatebrowsing/test/browser/browser_privatebrowsing_ui.js | The Private Browsing menu item should read "Start Private Browsing"
> TEST-PASS | chrome://mochikit/content/browser/browser/components/privatebrowsing/test/browser/browser_privatebrowsing_ui.js | The private browsing mode should be started
> TEST-PASS | chrome://mochikit/content/browser/browser/components/privatebrowsing/test/browser/browser_privatebrowsing_ui.js | gPrivateBrowsingUI should expose the correct private browsing status
> TEST-PASS | chrome://mochikit/content/browser/browser/components/privatebrowsing/test/browser/browser_privatebrowsing_ui.js | Private Browsing mode was activated using the gPrivateBrowsingUI object
> TEST-PASS | chrome://mochikit/content/browser/browser/components/privatebrowsing/test/browser/browser_privatebrowsing_ui.js | The Private Browsing menu item should read "Stop Private Browsing"
> TEST-PASS | chrome://mochikit/content/browser/browser/components/privatebrowsing/test/browser/browser_privatebrowsing_ui.js | The private browsing mode should not be started
> TEST-PASS | chrome://mochikit/content/browser/browser/components/privatebrowsing/test/browser/browser_privatebrowsing_ui.js | gPrivateBrowsingUI should expose the correct private browsing status
> TEST-PASS | chrome://mochikit/content/browser/browser/components/privatebrowsing/test/browser/browser_privatebrowsing_ui.js | Private Browsing mode was deactivated using the gPrivateBrowsingUI object
> TEST-PASS | chrome://mochikit/content/browser/browser/components/privatebrowsing/test/browser/browser_privatebrowsing_ui.js | The Private Browsing menu item should read "Start Private Browsing"
> TEST-PASS | chrome://mochikit/content/browser/browser/components/privatebrowsing/test/browser/browser_privatebrowsing_ui.js | XUL command object for the private browsing service exists
> TEST-PASS | chrome://mochikit/content/browser/browser/components/privatebrowsing/test/browser/browser_privatebrowsing_ui.js | Private Browsing mode was activated using the command object
> TEST-PASS | chrome://mochikit/content/browser/browser/components/privatebrowsing/test/browser/browser_privatebrowsing_ui.js | Private browsing mode has correctly changed the title
> TEST-PASS | chrome://mochikit/content/browser/browser/components/privatebrowsing/test/browser/browser_privatebrowsing_ui.js | Private Browsing mode was deactivated using the command object
> TEST-PASS | chrome://mochikit/content/browser/browser/components/privatebrowsing/test/browser/browser_privatebrowsing_ui.js | Private browsing mode has correctly restored the title
> TEST-INFO | checking window state
> Running chrome://mochikit/content/browser/browser/components/privatebrowsing/test/browser/browser_privatebrowsing_urlbarfocus.js...
> TEST-INFO | chrome://mochikit/content/browser/browser/components/privatebrowsing/test/browser/browser_privatebrowsing_urlbarfocus.js | Console message:
> TEST-INFO | chrome://mochikit/content/browser/browser/components/privatebrowsing/test/browser/browser_privatebrowsing_urlbarfocus.js | Console message:
> TEST-INFO | chrome://mochikit/content/browser/browser/components/privatebrowsing/test/browser/browser_privatebrowsing_urlbarfocus.js | Console message:
> TEST-INFO | chrome://mochikit/content/browser/browser/components/privatebrowsing/test/browser/browser_privatebrowsing_urlbarfocus.js | Console message:
> TEST-PASS | chrome://mochikit/content/browser/browser/components/privatebrowsing/test/browser/browser_privatebrowsing_urlbarfocus.js | URL Bar should not be focused before entering the private browsing mode
> TEST-PASS | chrome://mochikit/content/browser/browser/components/privatebrowsing/test/browser/browser_privatebrowsing_urlbarfocus.js | URL Bar should no longer be empty after leaving the private browsing mode
> TEST-PASS | chrome://mochikit/content/browser/browser/components/privatebrowsing/test/browser/browser_privatebrowsing_urlbarfocus.js | URL Bar should be focused inside the private browsing mode
> TEST-PASS | chrome://mochikit/content/browser/browser/components/privatebrowsing/test/browser/browser_privatebrowsing_urlbarfocus.js | URL Bar should be empty inside the private browsing mode
> TEST-INFO | chrome://mochikit/content/browser/browser/components/privatebrowsing/test/browser/browser_privatebrowsing_urlbarfocus.js | Console message:
> TEST-PASS | chrome://mochikit/content/browser/browser/components/privatebrowsing/test/browser/browser_privatebrowsing_urlbarfocus.js | URL Bar should no longer be focused after leaving the private browsing mode
> TEST-PASS | chrome://mochikit/content/browser/browser/components/privatebrowsing/test/browser/browser_privatebrowsing_urlbarfocus.js | URL Bar should no longer be empty after leaving the private browsing mode
> TEST-INFO | checking window state
> Running chrome://mochikit/content/browser/browser/components/privatebrowsing/test/browser/browser_privatebrowsing_urlbarundo.js...
> TEST-PASS | chrome://mochikit/content/browser/browser/components/privatebrowsing/test/browser/browser_privatebrowsing_urlbarundo.js | The undo history for the URL bar should not be empty
> TEST-PASS | chrome://mochikit/content/browser/browser/components/privatebrowsing/test/browser/browser_privatebrowsing_urlbarundo.js | The undo history of the URL bar should be cleared after leaving the private browsing mode
> TEST-INFO | checking window state
> Running chrome://mochikit/content/browser/browser/components/privatebrowsing/test/browser/browser_privatebrowsing_viewsource.js...
> TEST-INFO | chrome://mochikit/content/browser/browser/components/privatebrowsing/test/browser/browser_privatebrowsing_viewsource.js | Console message:
> TEST-PASS | chrome://mochikit/content/browser/browser/components/privatebrowsing/test/browser/browser_privatebrowsing_viewsource.js | Entering the private browsing mode should close the view source window
> TEST-PASS | chrome://mochikit/content/browser/browser/components/privatebrowsing/test/browser/browser_privatebrowsing_viewsource.js | Leaving the private browsing mode should restore the previous view source window
> TEST-INFO | chrome://mochikit/content/browser/browser/components/privatebrowsing/test/browser/browser_privatebrowsing_viewsource.js | Console message:
> TEST-PASS | chrome://mochikit/content/browser/browser/components/privatebrowsing/test/browser/browser_privatebrowsing_viewsource.js | Leaving the private browsing mode should close the existing view source window
> TEST-PASS | chrome://mochikit/content/browser/browser/components/privatebrowsing/test/browser/browser_privatebrowsing_viewsource.js | The correct view source window should be restored
> TEST-INFO | checking window state
> TEST-INFO | (browser-test.js) | Waiting for window activation...
> Running chrome://mochikit/content/browser/browser/components/privatebrowsing/test/browser/browser_privatebrowsing_windowtitle.js...
> TEST-PASS | chrome://mochikit/content/browser/browser/components/privatebrowsing/test/browser/browser_privatebrowsing_windowtitle.js | The window title for about:blank is correct (outside private browsing mode)
> TEST-PASS | chrome://mochikit/content/browser/browser/components/privatebrowsing/test/browser/browser_privatebrowsing_windowtitle.js | The window title for about:blank detached tab is correct (outside private browsing mode)
> TEST-PASS | chrome://mochikit/content/browser/browser/components/privatebrowsing/test/browser/browser_privatebrowsing_windowtitle.js | The window title for http://mochi.test:8888/browser/browser/components/privatebrowsing/test/browser/browser_privatebrowsing_windowtitle_page.html is correct (outside private browsing mode)
> TEST-PASS | chrome://mochikit/content/browser/browser/components/privatebrowsing/test/browser/browser_privatebrowsing_windowtitle.js | The window title for http://mochi.test:8888/browser/browser/components/privatebrowsing/test/browser/browser_privatebrowsing_windowtitle_page.html detached tab is correct (outside private browsing mode)
> TEST-PASS | chrome://mochikit/content/browser/browser/components/privatebrowsing/test/browser/browser_privatebrowsing_windowtitle.js | The window title for about:privatebrowsing is correct (outside private browsing mode)
> TEST-PASS | chrome://mochikit/content/browser/browser/components/privatebrowsing/test/browser/browser_privatebrowsing_windowtitle.js | The window title for about:privatebrowsing detached tab is correct (outside private browsing mode)
> TEST-PASS | chrome://mochikit/content/browser/browser/components/privatebrowsing/test/browser/browser_privatebrowsing_windowtitle.js | The window title for about:blank is correct (inside private browsing mode)
> TEST-PASS | chrome://mochikit/content/browser/browser/components/privatebrowsing/test/browser/browser_privatebrowsing_windowtitle.js | The window title for about:blank detached tab is correct (inside private browsing mode)
> TEST-PASS | chrome://mochikit/content/browser/browser/components/privatebrowsing/test/browser/browser_privatebrowsing_windowtitle.js | The window title for http://mochi.test:8888/browser/browser/components/privatebrowsing/test/browser/browser_privatebrowsing_windowtitle_page.html is correct (inside private browsing mode)
> TEST-PASS | chrome://mochikit/content/browser/browser/components/privatebrowsing/test/browser/browser_privatebrowsing_windowtitle.js | The window title for http://mochi.test:8888/browser/browser/components/privatebrowsing/test/browser/browser_privatebrowsing_windowtitle_page.html detached tab is correct (inside private browsing mode)
> TEST-PASS | chrome://mochikit/content/browser/browser/components/privatebrowsing/test/browser/browser_privatebrowsing_windowtitle.js | The window title for about:privatebrowsing is correct (inside private browsing mode)
> TEST-PASS | chrome://mochikit/content/browser/browser/components/privatebrowsing/test/browser/browser_privatebrowsing_windowtitle.js | The window title for about:privatebrowsing detached tab is correct (inside private browsing mode)
> TEST-INFO | chrome://mochikit/content/browser/browser/components/privatebrowsing/test/browser/browser_privatebrowsing_windowtitle.js | Console message:
> TEST-INFO | checking window state
> Running chrome://mochikit/content/browser/browser/components/privatebrowsing/test/browser/browser_privatebrowsing_zoom.js...
> TEST-PASS | chrome://mochikit/content/browser/browser/components/privatebrowsing/test/browser/browser_privatebrowsing_zoom.js | Zoom level can be changed
> TEST-PASS | chrome://mochikit/content/browser/browser/components/privatebrowsing/test/browser/browser_privatebrowsing_zoom.js | Entering private browsing should not reset the zoom on a tab
> TEST-INFO | chrome://mochikit/content/browser/browser/components/privatebrowsing/test/browser/browser_privatebrowsing_zoom.js | Console message:
> TEST-INFO | checking window state
> Running chrome://mochikit/content/browser/browser/components/privatebrowsing/test/browser/browser_privatebrowsing_zoomrestore.js...
> TEST-PASS | chrome://mochikit/content/browser/browser/components/privatebrowsing/test/browser/browser_privatebrowsing_zoomrestore.js | Zoom level for about:blank should be changed
> TEST-PASS | chrome://mochikit/content/browser/browser/components/privatebrowsing/test/browser/browser_privatebrowsing_zoomrestore.js | Zoom level for about:privatebrowsing should be reset
> TEST-INFO | chrome://mochikit/content/browser/browser/components/privatebrowsing/test/browser/browser_privatebrowsing_zoomrestore.js | Console message:
> TEST-INFO | checking window state
> Running chrome://mochikit/content/browser/browser/components/safebrowsing/content/test/browser_bug400731.js...
> TEST-PASS | chrome://mochikit/content/browser/browser/components/safebrowsing/content/test/browser_bug400731.js | Ignore warning button should be present for malware
> TEST-PASS | chrome://mochikit/content/browser/browser/components/safebrowsing/content/test/browser_bug400731.js | Ignore Warning button should be display:-moz-box for malware
> TEST-PASS | chrome://mochikit/content/browser/browser/components/safebrowsing/content/test/browser_bug400731.js | Ignore warning button should be present for phishing
> TEST-PASS | chrome://mochikit/content/browser/browser/components/safebrowsing/content/test/browser_bug400731.js | Ignore Warning button should be display:-moz-box for phishing
> TEST-INFO | checking window state
> Running chrome://mochikit/content/browser/browser/components/safebrowsing/content/test/browser_bug415846.js...
> TEST-PASS | chrome://mochikit/content/browser/browser/components/safebrowsing/content/test/browser_bug415846.js | Help menu should exist!
> TEST-PASS | chrome://mochikit/content/browser/browser/components/safebrowsing/content/test/browser_bug415846.js | Report phishing menu should be visible on normal sites
> TEST-PASS | chrome://mochikit/content/browser/browser/components/safebrowsing/content/test/browser_bug415846.js | Report error menu item should be hidden on normal sites
> TEST-PASS | chrome://mochikit/content/browser/browser/components/safebrowsing/content/test/browser_bug415846.js | Report phishing menu should be hidden on phishing sites
> TEST-PASS | chrome://mochikit/content/browser/browser/components/safebrowsing/content/test/browser_bug415846.js | Report error menu item should be visible on phishing sites
> TEST-INFO | checking window state
> Running chrome://mochikit/content/browser/browser/components/search/test/browser_405664.js...
> TEST-PASS | chrome://mochikit/content/browser/browser/components/search/test/browser_405664.js | got search bar
> TEST-PASS | chrome://mochikit/content/browser/browser/components/search/test/browser_405664.js | popup is nsIPopupBoxObject
> TEST-PASS | chrome://mochikit/content/browser/browser/components/search/test/browser_405664.js | popup is opening after Alt+Up
> TEST-PASS | chrome://mochikit/content/browser/browser/components/search/test/browser_405664.js | popup is closed after ESC
> TEST-PASS | chrome://mochikit/content/browser/browser/components/search/test/browser_405664.js | popup is opening after Alt+Down
> TEST-PASS | chrome://mochikit/content/browser/browser/components/search/test/browser_405664.js | popup is closed after ESC 2
> TEST-PASS | chrome://mochikit/content/browser/browser/components/search/test/browser_405664.js | popup is opening after F4
> TEST-PASS | chrome://mochikit/content/browser/browser/components/search/test/browser_405664.js | popup is closed after ESC 3
> TEST-INFO | checking window state
> Running chrome://mochikit/content/browser/browser/components/search/test/browser_415700.js...
> TEST-INFO | chrome://mochikit/content/browser/browser/components/search/test/browser_415700.js | Console message: [JavaScript Error: "[Exception... "'JavaScript component does not have a method named: "observe"' when calling method: [nsIObserver::observe]"  nsresult: "0x80570030 (NS_ERROR_XPC_JSOBJECT_HAS_NO_FUNCTION_NAMED)"  location: "JS frame :: file:///e:/builds/moz2_slave/mozilla-central-win32-opt-unittest-mochitest-other/build/firefox/components/nsSearchService.js :: notifyAction :: line 663"  data: no]" {file: "file:///e:/builds/moz2_slave/mozilla-central-win32-opt-unittest-mochitest-other/build/firefox/components/nsSearchService.js" line: 663}]
> TEST-PASS | chrome://mochikit/content/browser/browser/components/search/test/browser_415700.js | Engine was added.
> TEST-PASS | chrome://mochikit/content/browser/browser/components/search/test/browser_415700.js | Alias was not parsed from engine description
> TEST-PASS | chrome://mochikit/content/browser/browser/components/search/test/browser_415700.js | Current engine was changed successfully
> TEST-PASS | chrome://mochikit/content/browser/browser/components/search/test/browser_415700.js | An engine is present.
> TEST-PASS | chrome://mochikit/content/browser/browser/components/search/test/browser_415700.js | Current engine reset after removal
> TEST-INFO | chrome://mochikit/content/browser/browser/components/search/test/browser_415700.js | Console message: [JavaScript Error: "[Exception... "'JavaScript component does not have a method named: "observe"' when calling method: [nsIObserver::observe]"  nsresult: "0x80570030 (NS_ERROR_XPC_JSOBJECT_HAS_NO_FUNCTION_NAMED)"  location: "JS frame :: file:///e:/builds/moz2_slave/mozilla-central-win32-opt-unittest-mochitest-other/build/firefox/components/nsSearchService.js :: notifyAction :: line 663"  data: no]" {file: "file:///e:/builds/moz2_slave/mozilla-central-win32-opt-unittest-mochitest-other/build/firefox/components/nsSearchService.js" line: 663}]
> TEST-INFO | chrome://mochikit/content/browser/browser/components/search/test/browser_415700.js | Console message: [JavaScript Error: "[Exception... "'JavaScript component does not have a method named: "observe"' when calling method: [nsIObserver::observe]"  nsresult: "0x80570030 (NS_ERROR_XPC_JSOBJECT_HAS_NO_FUNCTION_NAMED)"  location: "JS frame :: file:///e:/builds/moz2_slave/mozilla-central-win32-opt-unittest-mochitest-other/build/firefox/components/nsSearchService.js :: notifyAction :: line 663"  data: no]" {file: "file:///e:/builds/moz2_slave/mozilla-central-win32-opt-unittest-mochitest-other/build/firefox/components/nsSearchService.js" line: 663}]
> TEST-INFO | checking window state
> Running chrome://mochikit/content/browser/browser/components/search/test/browser_426329.js...
> TEST-PASS | chrome://mochikit/content/browser/browser/components/search/test/browser_426329.js | got search-go-button
> TEST-INFO | chrome://mochikit/content/browser/browser/components/search/test/browser_426329.js | Console message: [JavaScript Error: "[Exception... "'JavaScript component does not have a method named: "observe"' when calling method: [nsIObserver::observe]"  nsresult: "0x80570030 (NS_ERROR_XPC_JSOBJECT_HAS_NO_FUNCTION_NAMED)"  location: "JS frame :: file:///e:/builds/moz2_slave/mozilla-central-win32-opt-unittest-mochitest-other/build/firefox/components/nsSearchService.js :: notifyAction :: line 663"  data: no]" {file: "file:///e:/builds/moz2_slave/mozilla-central-win32-opt-unittest-mochitest-other/build/firefox/components/nsSearchService.js" line: 663}]
> TEST-INFO | chrome://mochikit/content/browser/browser/components/search/test/browser_426329.js | Console message: [JavaScript Error: "[Exception... "'JavaScript component does not have a method named: "observe"' when calling method: [nsIObserver::observe]"  nsresult: "0x80570030 (NS_ERROR_XPC_JSOBJECT_HAS_NO_FUNCTION_NAMED)"  location: "JS frame :: file:///e:/builds/moz2_slave/mozilla-central-win32-opt-unittest-mochitest-other/build/firefox/components/nsSearchService.js :: notifyAction :: line 663"  data: no]" {file: "file:///e:/builds/moz2_slave/mozilla-central-win32-opt-unittest-mochitest-other/build/firefox/components/nsSearchService.js" line: 663}]
> TEST-INFO | chrome://mochikit/content/browser/browser/components/search/test/browser_426329.js | Console message: [JavaScript Error: "[Exception... "'JavaScript component does not have a method named: "observe"' when calling method: [nsIObserver::observe]"  nsresult: "0x80570030 (NS_ERROR_XPC_JSOBJECT_HAS_NO_FUNCTION_NAMED)"  location: "JS frame :: file:///e:/builds/moz2_slave/mozilla-central-win32-opt-unittest-mochitest-other/build/firefox/components/nsSearchService.js :: notifyAction :: line 663"  data: no]" {file: "file:///e:/builds/moz2_slave/mozilla-central-win32-opt-unittest-mochitest-other/build/firefox/components/nsSearchService.js" line: 663}]
> TEST-INFO | chrome://mochikit/content/browser/browser/components/search/test/browser_426329.js | Console message: [JavaScript Error: "[Exception... "Can't find engine in store!"  nsresult: "0x8000ffff (NS_ERROR_UNEXPECTED)"  location: "JS frame :: file:///e:/builds/moz2_slave/mozilla-central-win32-opt-unittest-mochitest-other/build/firefox/components/nsSearchService.js :: FAIL :: line 239"  data: no]" {file: "file:///e:/builds/moz2_slave/mozilla-central-win32-opt-unittest-mochitest-other/build/firefox/components/nsSearchService.js" line: 239}]
> TEST-INFO | chrome://mochikit/content/browser/browser/components/search/test/browser_426329.js | Console message: [JavaScript Error: "[Exception... "'JavaScript component does not have a method named: "observe"' when calling method: [nsIObserver::observe]"  nsresult: "0x80570030 (NS_ERROR_XPC_JSOBJECT_HAS_NO_FUNCTION_NAMED)"  location: "JS frame :: file:///e:/builds/moz2_slave/mozilla-central-win32-opt-unittest-mochitest-other/build/firefox/components/nsSearchService.js :: notifyAction :: line 663"  data: no]" {file: "file:///e:/builds/moz2_slave/mozilla-central-win32-opt-unittest-mochitest-other/build/firefox/components/nsSearchService.js" line: 663}]
> TEST-PASS | chrome://mochikit/content/browser/browser/components/search/test/browser_426329.js | Engine was added.
> TEST-PASS | chrome://mochikit/content/browser/browser/components/search/test/browser_426329.js | currentEngine set
> TEST-INFO | chrome://mochikit/content/browser/browser/components/search/test/browser_426329.js | Console message: [JavaScript Error: "[Exception... "'JavaScript component does not have a method named: "observe"' when calling method: [nsIObserver::observe]"  nsresult: "0x80570030 (NS_ERROR_XPC_JSOBJECT_HAS_NO_FUNCTION_NAMED)"  location: "JS frame :: file:///e:/builds/moz2_slave/mozilla-central-win32-opt-unittest-mochitest-other/build/firefox/components/nsSearchService.js :: notifyAction :: line 663"  data: no]" {file: "file:///e:/builds/moz2_slave/mozilla-central-win32-opt-unittest-mochitest-other/build/firefox/components/nsSearchService.js" line: 663}]
> TEST-INFO | chrome://mochikit/content/browser/browser/components/search/test/browser_426329.js | Console message: [JavaScript Error: "[Exception... "'JavaScript component does not have a method named: "observe"' when calling method: [nsIObserver::observe]"  nsresult: "0x80570030 (NS_ERROR_XPC_JSOBJECT_HAS_NO_FUNCTION_NAMED)"  location: "JS frame :: file:///e:/builds/moz2_slave/mozilla-central-win32-opt-unittest-mochitest-other/build/firefox/components/nsSearchService.js :: notifyAction :: line 663"  data: no]" {file: "file:///e:/builds/moz2_slave/mozilla-central-win32-opt-unittest-mochitest-other/build/firefox/components/nsSearchService.js" line: 663}]
> TEST-INFO | chrome://mochikit/content/browser/browser/components/search/test/browser_426329.js | Console message: [JavaScript Error: "[Exception... "'JavaScript component does not have a method named: "observe"' when calling method: [nsIObserver::observe]"  nsresult: "0x80570030 (NS_ERROR_XPC_JSOBJECT_HAS_NO_FUNCTION_NAMED)"  location: "JS frame :: file:///e:/builds/moz2_slave/mozilla-central-win32-opt-unittest-mochitest-other/build/firefox/components/nsSearchService.js :: notifyAction :: line 663"  data: no]" {file: "file:///e:/builds/moz2_slave/mozilla-central-win32-opt-unittest-mochitest-other/build/firefox/components/nsSearchService.js" line: 663}]
> TEST-INFO | chrome://mochikit/content/browser/browser/components/search/test/browser_426329.js | Console message: [JavaScript Error: "[Exception... "'JavaScript component does not have a method named: "observe"' when calling method: [nsIObserver::observe]"  nsresult: "0x80570030 (NS_ERROR_XPC_JSOBJECT_HAS_NO_FUNCTION_NAMED)"  location: "JS frame :: file:///e:/builds/moz2_slave/mozilla-central-win32-opt-unittest-mochitest-other/build/firefox/components/nsSearchService.js :: notifyAction :: line 663"  data: no]" {file: "file:///e:/builds/moz2_slave/mozilla-central-win32-opt-unittest-mochitest-other/build/firefox/components/nsSearchService.js" line: 663}]
> TEST-PASS | chrome://mochikit/content/browser/browser/components/search/test/browser_426329.js | Return key did not open new tab
> TEST-PASS | chrome://mochikit/content/browser/browser/components/search/test/browser_426329.js | Return key loaded results in current tab
> TEST-PASS | chrome://mochikit/content/browser/browser/components/search/test/browser_426329.js | Alt+Return key added new tab
> TEST-PASS | chrome://mochikit/content/browser/browser/components/search/test/browser_426329.js | Alt+Return key loaded results in new tab
> TEST-PASS | chrome://mochikit/content/browser/browser/components/search/test/browser_426329.js | Alt+Return key loaded results in foreground tab
> TEST-PASS | chrome://mochikit/content/browser/browser/components/search/test/browser_426329.js | LeftClick did not open new tab
> TEST-PASS | chrome://mochikit/content/browser/browser/components/search/test/browser_426329.js | LeftClick loaded results in current tab
> TEST-PASS | chrome://mochikit/content/browser/browser/components/search/test/browser_426329.js | MiddleClick added new tab
> TEST-PASS | chrome://mochikit/content/browser/browser/components/search/test/browser_426329.js | MiddleClick loaded results in new tab
> TEST-PASS | chrome://mochikit/content/browser/browser/components/search/test/browser_426329.js | MiddleClick loaded results in foreground tab
> TEST-PASS | chrome://mochikit/content/browser/browser/components/search/test/browser_426329.js | Shift+MiddleClick added new tab
> TEST-PASS | chrome://mochikit/content/browser/browser/components/search/test/browser_426329.js | Shift+MiddleClick loaded results in new tab
> TEST-PASS | chrome://mochikit/content/browser/browser/components/search/test/browser_426329.js | Shift+MiddleClick loaded results in background tab
> TEST-PASS | chrome://mochikit/content/browser/browser/components/search/test/browser_426329.js | drop text/plain on searchbar
> TEST-PASS | chrome://mochikit/content/browser/browser/components/search/test/browser_426329.js | drop text/x-moz-text-internal on searchbar
> TEST-PASS | chrome://mochikit/content/browser/browser/components/search/test/browser_426329.js | drop text/uri-list on searchbar
> TEST-PASS | chrome://mochikit/content/browser/browser/components/search/test/browser_426329.js | RightClick did not open new tab
> TEST-PASS | chrome://mochikit/content/browser/browser/components/search/test/browser_426329.js | RightClick did nothing
> TEST-INFO | checking window state
> Running chrome://mochikit/content/browser/browser/components/search/test/browser_483086.js...
> TEST-INFO | chrome://mochikit/content/browser/browser/components/search/test/browser_483086.js | Console message: [JavaScript Error: "[Exception... "'JavaScript component does not have a method named: "observe"' when calling method: [nsIObserver::observe]"  nsresult: "0x80570030 (NS_ERROR_XPC_JSOBJECT_HAS_NO_FUNCTION_NAMED)"  location: "JS frame :: file:///e:/builds/moz2_slave/mozilla-central-win32-opt-unittest-mochitest-other/build/firefox/components/nsSearchService.js :: notifyAction :: line 663"  data: no]" {file: "file:///e:/builds/moz2_slave/mozilla-central-win32-opt-unittest-mochitest-other/build/firefox/components/nsSearchService.js" line: 663}]
> TEST-PASS | chrome://mochikit/content/browser/browser/components/search/test/browser_483086.js | Test engine 1 installed
> TEST-PASS | chrome://mochikit/content/browser/browser/components/search/test/browser_483086.js | Invalid SearchForm URL dropped
> TEST-INFO | chrome://mochikit/content/browser/browser/components/search/test/browser_483086.js | Console message: [JavaScript Error: "[Exception... "'JavaScript component does not have a method named: "observe"' when calling method: [nsIObserver::observe]"  nsresult: "0x80570030 (NS_ERROR_XPC_JSOBJECT_HAS_NO_FUNCTION_NAMED)"  location: "JS frame :: file:///e:/builds/moz2_slave/mozilla-central-win32-opt-unittest-mochitest-other/build/firefox/components/nsSearchService.js :: notifyAction :: line 663"  data: no]" {file: "file:///e:/builds/moz2_slave/mozilla-central-win32-opt-unittest-mochitest-other/build/firefox/components/nsSearchService.js" line: 663}]
> TEST-INFO | chrome://mochikit/content/browser/browser/components/search/test/browser_483086.js | Console message: [JavaScript Error: "[Exception... "'JavaScript component does not have a method named: "observe"' when calling method: [nsIObserver::observe]"  nsresult: "0x80570030 (NS_ERROR_XPC_JSOBJECT_HAS_NO_FUNCTION_NAMED)"  location: "JS frame :: file:///e:/builds/moz2_slave/mozilla-central-win32-opt-unittest-mochitest-other/build/firefox/components/nsSearchService.js :: notifyAction :: line 663"  data: no]" {file: "file:///e:/builds/moz2_slave/mozilla-central-win32-opt-unittest-mochitest-other/build/firefox/components/nsSearchService.js" line: 663}]
> TEST-INFO | chrome://mochikit/content/browser/browser/components/search/test/browser_483086.js | Console message: [JavaScript Error: "[Exception... "'JavaScript component does not have a method named: "observe"' when calling method: [nsIObserver::observe]"  nsresult: "0x80570030 (NS_ERROR_XPC_JSOBJECT_HAS_NO_FUNCTION_NAMED)"  location: "JS frame :: file:///e:/builds/moz2_slave/mozilla-central-win32-opt-unittest-mochitest-other/build/firefox/components/nsSearchService.js :: notifyAction :: line 663"  data: no]" {file: "file:///e:/builds/moz2_slave/mozilla-central-win32-opt-unittest-mochitest-other/build/firefox/components/nsSearchService.js" line: 663}]
> TEST-INFO | chrome://mochikit/content/browser/browser/components/search/test/browser_483086.js | Console message: [JavaScript Error: "[Exception... "'JavaScript component does not have a method named: "observe"' when calling method: [nsIObserver::observe]"  nsresult: "0x80570030 (NS_ERROR_XPC_JSOBJECT_HAS_NO_FUNCTION_NAMED)"  location: "JS frame :: file:///e:/builds/moz2_slave/mozilla-central-win32-opt-unittest-mochitest-other/build/firefox/components/nsSearchService.js :: notifyAction :: line 663"  data: no]" {file: "file:///e:/builds/moz2_slave/mozilla-central-win32-opt-unittest-mochitest-other/build/firefox/components/nsSearchService.js" line: 663}]
> TEST-INFO | chrome://mochikit/content/browser/browser/components/search/test/browser_483086.js | Console message: [JavaScript Error: "[Exception... "Can't find engine in store!"  nsresult: "0x8000ffff (NS_ERROR_UNEXPECTED)"  location: "JS frame :: file:///e:/builds/moz2_slave/mozilla-central-win32-opt-unittest-mochitest-other/build/firefox/components/nsSearchService.js :: FAIL :: line 239"  data: no]" {file: "file:///e:/builds/moz2_slave/mozilla-central-win32-opt-unittest-mochitest-other/build/firefox/components/nsSearchService.js" line: 239}]
> TEST-PASS | chrome://mochikit/content/browser/browser/components/search/test/browser_483086.js | Test engine 2 installed
> TEST-PASS | chrome://mochikit/content/browser/browser/components/search/test/browser_483086.js | SearchForm is correct
> TEST-INFO | chrome://mochikit/content/browser/browser/components/search/test/browser_483086.js | Console message: [JavaScript Error: "[Exception... "'JavaScript component does not have a method named: "observe"' when calling method: [nsIObserver::observe]"  nsresult: "0x80570030 (NS_ERROR_XPC_JSOBJECT_HAS_NO_FUNCTION_NAMED)"  location: "JS frame :: file:///e:/builds/moz2_slave/mozilla-central-win32-opt-unittest-mochitest-other/build/firefox/components/nsSearchService.js :: notifyAction :: line 663"  data: no]" {file: "file:///e:/builds/moz2_slave/mozilla-central-win32-opt-unittest-mochitest-other/build/firefox/components/nsSearchService.js" line: 663}]
> TEST-INFO | chrome://mochikit/content/browser/browser/components/search/test/browser_483086.js | Console message: [JavaScript Error: "[Exception... "'JavaScript component does not have a method named: "observe"' when calling method: [nsIObserver::observe]"  nsresult: "0x80570030 (NS_ERROR_XPC_JSOBJECT_HAS_NO_FUNCTION_NAMED)"  location: "JS frame :: file:///e:/builds/moz2_slave/mozilla-central-win32-opt-unittest-mochitest-other/build/firefox/components/nsSearchService.js :: notifyAction :: line 663"  data: no]" {file: "file:///e:/builds/moz2_slave/mozilla-central-win32-opt-unittest-mochitest-other/build/firefox/components/nsSearchService.js" line: 663}]
> TEST-INFO | checking window state
> Running chrome://mochikit/content/browser/browser/components/sessionstore/test/browser/browser_248970_a.js...
> TEST-INFO | chrome://mochikit/content/browser/browser/components/sessionstore/test/browser/browser_248970_a.js | Console message: [JavaScript Error: "[Exception... "'JavaScript component does not have a method named: "observe"' when calling method: [nsIObserver::observe]"  nsresult: "0x80570030 (NS_ERROR_XPC_JSOBJECT_HAS_NO_FUNCTION_NAMED)"  location: "JS frame :: file:///e:/builds/moz2_slave/mozilla-central-win32-opt-unittest-mochitest-other/build/firefox/components/nsSearchService.js :: notifyAction :: line 663"  data: no]" {file: "file:///e:/builds/moz2_slave/mozilla-central-win32-opt-unittest-mochitest-other/build/firefox/components/nsSearchService.js" line: 663}]
> TEST-INFO | chrome://mochikit/content/browser/browser/components/sessionstore/test/browser/browser_248970_a.js | Console message: [JavaScript Error: "[Exception... "'JavaScript component does not have a method named: "observe"' when calling method: [nsIObserver::observe]"  nsresult: "0x80570030 (NS_ERROR_XPC_JSOBJECT_HAS_NO_FUNCTION_NAMED)"  location: "JS frame :: file:///e:/builds/moz2_slave/mozilla-central-win32-opt-unittest-mochitest-other/build/firefox/components/nsSearchService.js :: notifyAction :: line 663"  data: no]" {file: "file:///e:/builds/moz2_slave/mozilla-central-win32-opt-unittest-mochitest-other/build/firefox/components/nsSearchService.js" line: 663}]
> TEST-INFO | chrome://mochikit/content/browser/browser/components/sessionstore/test/browser/browser_248970_a.js | Console message: [JavaScript Error: "[Exception... "Can't find engine in store!"  nsresult: "0x8000ffff (NS_ERROR_UNEXPECTED)"  location: "JS frame :: file:///e:/builds/moz2_slave/mozilla-central-win32-opt-unittest-mochitest-other/build/firefox/components/nsSearchService.js :: FAIL :: line 239"  data: no]" {file: "file:///e:/builds/moz2_slave/mozilla-central-win32-opt-unittest-mochitest-other/build/firefox/components/nsSearchService.js" line: 239}]
> TEST-PASS | chrome://mochikit/content/browser/browser/components/sessionstore/test/browser/browser_248970_a.js | file should be created after setting interval to 0
> TEST-PASS | chrome://mochikit/content/browser/browser/components/sessionstore/test/browser/browser_248970_a.js | private browsing enabled
> TEST-PASS | chrome://mochikit/content/browser/browser/components/sessionstore/test/browser/browser_248970_a.js | file should be created after private browsing entered
> TEST-PASS | chrome://mochikit/content/browser/browser/components/sessionstore/test/browser/browser_248970_a.js | private browsing disabled
> TEST-PASS | chrome://mochikit/content/browser/browser/components/sessionstore/test/browser/browser_248970_a.js | outside private browsing - sessionStore.js timestamp has not changed
> TEST-INFO | chrome://mochikit/content/browser/browser/components/sessionstore/test/browser/browser_248970_a.js | Console message:
> TEST-INFO | checking window state
> Running chrome://mochikit/content/browser/browser/components/sessionstore/test/browser/browser_248970_b.js...
> TEST-PASS | chrome://mochikit/content/browser/browser/components/sessionstore/test/browser/browser_248970_b.js | getClosedTabCount should return zero or at most max_tabs_undo
> TEST-PASS | chrome://mochikit/content/browser/browser/components/sessionstore/test/browser/browser_248970_b.js | getClosedTabCount has increased after closing a tab
> TEST-PASS | chrome://mochikit/content/browser/browser/components/sessionstore/test/browser/browser_248970_b.js | a tab is in undo list
> TEST-PASS | chrome://mochikit/content/browser/browser/components/sessionstore/test/browser/browser_248970_b.js | it's the same tab that we expect
> TEST-PASS | chrome://mochikit/content/browser/browser/components/sessionstore/test/browser/browser_248970_b.js | private browsing enabled
> TEST-PASS | chrome://mochikit/content/browser/browser/components/sessionstore/test/browser/browser_248970_b.js | tab successfully duplicated - correct state
> TEST-PASS | chrome://mochikit/content/browser/browser/components/sessionstore/test/browser/browser_248970_b.js | The value for "//input[@name='input']" was correctly duplicated
> TEST-PASS | chrome://mochikit/content/browser/browser/components/sessionstore/test/browser/browser_248970_b.js | The value for "//input[@name='spaced 1']" was correctly duplicated
> TEST-PASS | chrome://mochikit/content/browser/browser/components/sessionstore/test/browser/browser_248970_b.js | The value for "//input[3]" was correctly duplicated
> TEST-PASS | chrome://mochikit/content/browser/browser/components/sessionstore/test/browser/browser_248970_b.js | The value for "//input[@type='checkbox']" was correctly duplicated
> TEST-PASS | chrome://mochikit/content/browser/browser/components/sessionstore/test/browser/browser_248970_b.js | The value for "//input[@name='uncheck']" was correctly duplicated
> TEST-PASS | chrome://mochikit/content/browser/browser/components/sessionstore/test/browser/browser_248970_b.js | The value for "//input[@type='radio'][1]" was correctly duplicated
> TEST-PASS | chrome://mochikit/content/browser/browser/components/sessionstore/test/browser/browser_248970_b.js | The value for "//input[@type='radio'][2]" was correctly duplicated
> TEST-PASS | chrome://mochikit/content/browser/browser/components/sessionstore/test/browser/browser_248970_b.js | The value for "//input[@type='radio'][3]" was correctly duplicated
> TEST-PASS | chrome://mochikit/content/browser/browser/components/sessionstore/test/browser/browser_248970_b.js | The value for "//select" was correctly duplicated
> TEST-PASS | chrome://mochikit/content/browser/browser/components/sessionstore/test/browser/browser_248970_b.js | The value for "//select[@multiple]" was correctly duplicated
> TEST-PASS | chrome://mochikit/content/browser/browser/components/sessionstore/test/browser/browser_248970_b.js | The value for "//textarea[1]" was correctly duplicated
> TEST-PASS | chrome://mochikit/content/browser/browser/components/sessionstore/test/browser/browser_248970_b.js | The value for "//textarea[2]" was correctly duplicated
> TEST-PASS | chrome://mochikit/content/browser/browser/components/sessionstore/test/browser/browser_248970_b.js | The value for "//textarea[3]" was correctly duplicated
> TEST-PASS | chrome://mochikit/content/browser/browser/components/sessionstore/test/browser/browser_248970_b.js | The value for "//input[@type='file']" was correctly duplicated
> TEST-PASS | chrome://mochikit/content/browser/browser/components/sessionstore/test/browser/browser_248970_b.js | private browsing disabled
> TEST-INFO | chrome://mochikit/content/browser/browser/components/sessionstore/test/browser/browser_248970_b.js | Console message:
> TEST-INFO | checking window state
> Running chrome://mochikit/content/browser/browser/components/sessionstore/test/browser/browser_339445.js...
> TEST-PASS | chrome://mochikit/content/browser/browser/components/sessionstore/test/browser/browser_339445.js | sessionStorage value has been set
> TEST-PASS | chrome://mochikit/content/browser/browser/components/sessionstore/test/browser/browser_339445.js | sessionStorage value has been duplicated
> TEST-INFO | checking window state
> Running chrome://mochikit/content/browser/browser/components/sessionstore/test/browser/browser_345898.js...
> TEST-PASS | chrome://mochikit/content/browser/browser/components/sessionstore/test/browser/browser_345898.js | Invalid window for getWindowState throws
> TEST-PASS | chrome://mochikit/content/browser/browser/components/sessionstore/test/browser/browser_345898.js | Invalid window for setWindowState throws
> TEST-PASS | chrome://mochikit/content/browser/browser/components/sessionstore/test/browser/browser_345898.js | Invalid tab for getTabState throws
> TEST-PASS | chrome://mochikit/content/browser/browser/components/sessionstore/test/browser/browser_345898.js | Invalid tab state for setTabState throws
> TEST-PASS | chrome://mochikit/content/browser/browser/components/sessionstore/test/browser/browser_345898.js | Invalid tab for setTabState throws
> TEST-PASS | chrome://mochikit/content/browser/browser/components/sessionstore/test/browser/browser_345898.js | Invalid tab for duplicateTab throws
> TEST-PASS | chrome://mochikit/content/browser/browser/components/sessionstore/test/browser/browser_345898.js | Invalid window for duplicateTab throws
> TEST-PASS | chrome://mochikit/content/browser/browser/components/sessionstore/test/browser/browser_345898.js | Invalid window for getClosedTabData throws
> TEST-PASS | chrome://mochikit/content/browser/browser/components/sessionstore/test/browser/browser_345898.js | Invalid window for undoCloseTab throws
> TEST-PASS | chrome://mochikit/content/browser/browser/components/sessionstore/test/browser/browser_345898.js | Invalid index for undoCloseTab throws
> TEST-PASS | chrome://mochikit/content/browser/browser/components/sessionstore/test/browser/browser_345898.js | Invalid window for getWindowValue throws
> TEST-PASS | chrome://mochikit/content/browser/browser/components/sessionstore/test/browser/browser_345898.js | Invalid window for getWindowValue throws
> TEST-PASS | chrome://mochikit/content/browser/browser/components/sessionstore/test/browser/browser_345898.js | Invalid window for setWindowValue throws
> TEST-PASS | chrome://mochikit/content/browser/browser/components/sessionstore/test/browser/browser_345898.js | Invalid window for deleteWindowValue throws
> TEST-PASS | chrome://mochikit/content/browser/browser/components/sessionstore/test/browser/browser_345898.js | Nonexistent value for deleteWindowValue throws
> TEST-PASS | chrome://mochikit/content/browser/browser/components/sessionstore/test/browser/browser_345898.js | Nonexistent value for deleteTabValue throws
> TEST-INFO | checking window state
> Running chrome://mochikit/content/browser/browser/components/sessionstore/test/browser/browser_346337.js...
> TEST-PASS | chrome://mochikit/content/browser/browser/components/sessionstore/test/browser/browser_346337.js | The value for "//input[@name='input']" was correctly restored
> TEST-PASS | chrome://mochikit/content/browser/browser/components/sessionstore/test/browser/browser_346337.js | The value for "//input[@name='spaced 1']" was correctly restored
> TEST-PASS | chrome://mochikit/content/browser/browser/components/sessionstore/test/browser/browser_346337.js | The value for "//input[3]" was correctly restored
> TEST-PASS | chrome://mochikit/content/browser/browser/components/sessionstore/test/browser/browser_346337.js | The value for "//input[@type='checkbox']" was correctly restored
> TEST-PASS | chrome://mochikit/content/browser/browser/components/sessionstore/test/browser/browser_346337.js | The value for "//input[@name='uncheck']" was correctly restored
> TEST-PASS | chrome://mochikit/content/browser/browser/components/sessionstore/test/browser/browser_346337.js | The value for "//input[@type='radio'][1]" was correctly restored
> TEST-PASS | chrome://mochikit/content/browser/browser/components/sessionstore/test/browser/browser_346337.js | The value for "//input[@type='radio'][2]" was correctly restored
> TEST-PASS | chrome://mochikit/content/browser/browser/components/sessionstore/test/browser/browser_346337.js | The value for "//input[@type='radio'][3]" was correctly restored
> TEST-PASS | chrome://mochikit/content/browser/browser/components/sessionstore/test/browser/browser_346337.js | The value for "//select" was correctly restored
> TEST-PASS | chrome://mochikit/content/browser/browser/components/sessionstore/test/browser/browser_346337.js | The value for "//select[@multiple]" was correctly restored
> TEST-PASS | chrome://mochikit/content/browser/browser/components/sessionstore/test/browser/browser_346337.js | The value for "//textarea[1]" was correctly restored
> TEST-PASS | chrome://mochikit/content/browser/browser/components/sessionstore/test/browser/browser_346337.js | The value for "//textarea[2]" was correctly restored
> TEST-PASS | chrome://mochikit/content/browser/browser/components/sessionstore/test/browser/browser_346337.js | The value for "//textarea[3]" was correctly restored
> TEST-PASS | chrome://mochikit/content/browser/browser/components/sessionstore/test/browser/browser_346337.js | The value for "//input[@type='file'][1]" was correctly restored
> TEST-PASS | chrome://mochikit/content/browser/browser/components/sessionstore/test/browser/browser_346337.js | The value for "//input[@type='file'][2]" was correctly restored
> TEST-PASS | chrome://mochikit/content/browser/browser/components/sessionstore/test/browser/browser_346337.js | The value for "//input[@name='input']" was correctly discarded
> TEST-PASS | chrome://mochikit/content/browser/browser/components/sessionstore/test/browser/browser_346337.js | The value for "//input[@name='spaced 1']" was correctly discarded
> TEST-PASS | chrome://mochikit/content/browser/browser/components/sessionstore/test/browser/browser_346337.js | The value for "//input[3]" was correctly discarded
> TEST-PASS | chrome://mochikit/content/browser/browser/components/sessionstore/test/browser/browser_346337.js | The value for "//input[@type='checkbox']" was correctly discarded
> TEST-PASS | chrome://mochikit/content/browser/browser/components/sessionstore/test/browser/browser_346337.js | The value for "//input[@type='radio'][2]" was correctly discarded
> TEST-PASS | chrome://mochikit/content/browser/browser/components/sessionstore/test/browser/browser_346337.js | The value for "//select" was correctly discarded
> TEST-PASS | chrome://mochikit/content/browser/browser/components/sessionstore/test/browser/browser_346337.js | The value for "//select[@multiple]" was correctly discarded
> TEST-PASS | chrome://mochikit/content/browser/browser/components/sessionstore/test/browser/browser_346337.js | The value for "//textarea[2]" was correctly discarded
> TEST-PASS | chrome://mochikit/content/browser/browser/components/sessionstore/test/browser/browser_346337.js | The value for "//textarea[3]" was correctly discarded
> TEST-PASS | chrome://mochikit/content/browser/browser/components/sessionstore/test/browser/browser_346337.js | The value for "//input[@type='file'][1]" was correctly discarded
> TEST-PASS | chrome://mochikit/content/browser/browser/components/sessionstore/test/browser/browser_346337.js | The value for "//input[@type='file'][2]" was correctly discarded
> TEST-INFO | checking window state
> Running chrome://mochikit/content/browser/browser/components/sessionstore/test/browser/browser_350525.js...
> TEST-PASS | chrome://mochikit/content/browser/browser/components/sessionstore/test/browser/browser_350525.js | reference the sessionstore component
> TEST-PASS | chrome://mochikit/content/browser/browser/components/sessionstore/test/browser/browser_350525.js | reference the sessionstore service
> TEST-PASS | chrome://mochikit/content/browser/browser/components/sessionstore/test/browser/browser_350525.js | set a window value
> TEST-PASS | chrome://mochikit/content/browser/browser/components/sessionstore/test/browser/browser_350525.js | stored window value matches original
> TEST-PASS | chrome://mochikit/content/browser/browser/components/sessionstore/test/browser/browser_350525.js | delete the window value
> TEST-PASS | chrome://mochikit/content/browser/browser/components/sessionstore/test/browser/browser_350525.js | window value was deleted
> TEST-PASS | chrome://mochikit/content/browser/browser/components/sessionstore/test/browser/browser_350525.js | store a tab value
> TEST-PASS | chrome://mochikit/content/browser/browser/components/sessionstore/test/browser/browser_350525.js | stored tab value match original
> TEST-PASS | chrome://mochikit/content/browser/browser/components/sessionstore/test/browser/browser_350525.js | delete the tab value
> TEST-PASS | chrome://mochikit/content/browser/browser/components/sessionstore/test/browser/browser_350525.js | tab value was deleted
> TEST-PASS | chrome://mochikit/content/browser/browser/components/sessionstore/test/browser/browser_350525.js | getClosedTabCount returns zero or at most max_tabs_undo
> TEST-PASS | chrome://mochikit/content/browser/browser/components/sessionstore/test/browser/browser_350525.js | after closing a tab, getClosedTabCount has been incremented
> TEST-PASS | chrome://mochikit/content/browser/browser/components/sessionstore/test/browser/browser_350525.js | undoCloseTab doesn't throw
> TEST-PASS | chrome://mochikit/content/browser/browser/components/sessionstore/test/browser/browser_350525.js | correct tab was reopened
> TEST-INFO | checking window state
> Running chrome://mochikit/content/browser/browser/components/sessionstore/test/browser/browser_354894.js...
> TEST-PASS | chrome://mochikit/content/browser/browser/components/sessionstore/test/browser/browser_354894.js | Only one browser window should be open initially (nsIWindowMediator)
> TEST-PASS | chrome://mochikit/content/browser/browser/components/sessionstore/test/browser/browser_354894.js | Only one browser window should be open initially (getBrowserState)
> TEST-PASS | chrome://mochikit/content/browser/browser/components/sessionstore/test/browser/browser_354894.js | First close request was denied
> TEST-PASS | chrome://mochikit/content/browser/browser/components/sessionstore/test/browser/browser_354894.js | Second close request was granted
> TEST-PASS | chrome://mochikit/content/browser/browser/components/sessionstore/test/browser/browser_354894.js | Restored window in-session with otherpopup windows around
> TEST-PASS | chrome://mochikit/content/browser/browser/components/sessionstore/test/browser/browser_354894.js | browser windows after testOpenCloseNormal (nsIWindowMediator)
> TEST-PASS | chrome://mochikit/content/browser/browser/components/sessionstore/test/browser/browser_354894.js | browser windows after testOpenCloseNormal (getBrowserState)
> TEST-INFO | chrome://mochikit/content/browser/browser/components/sessionstore/test/browser/browser_354894.js | Console message: [JavaScript Error: "[Exception... "'JavaScript component does not have a method named: "notify"' when calling method: [nsITimerCallback::notify]"  nsresult: "0x80570030 (NS_ERROR_XPC_JSOBJECT_HAS_NO_FUNCTION_NAMED)"  location: "&lt;unknown>"  data: no]"]
> TEST-PASS | chrome://mochikit/content/browser/browser/components/sessionstore/test/browser/browser_354894.js | Did not restore in private browing mode
> TEST-INFO | chrome://mochikit/content/browser/browser/components/sessionstore/test/browser/browser_354894.js | Console message: [JavaScript Error: "[Exception... "Component returned failure code: 0x80004005 (NS_ERROR_FAILURE) [nsIObserverService.removeObserver]"  nsresult: "0x80004005 (NS_ERROR_FAILURE)"  location: "JS frame :: chrome://browser/content/browser.js :: FullZoom_destroy :: line 168"  data: no]" {file: "chrome://browser/content/browser.js" line: 3732}]
> TEST-INFO | chrome://mochikit/content/browser/browser/components/sessionstore/test/browser/browser_354894.js | Console message: [JavaScript Error: "uncaught exception: [Exception... "Component returned failure code: 0x80004005 (NS_ERROR_FAILURE) [nsIObserverService.removeObserver]"  nsresult: "0x80004005 (NS_ERROR_FAILURE)"  location: "JS frame :: chrome://browser/content/browser.js :: BrowserShutdown :: line 3735"  data: no]"]
> TEST-INFO | chrome://mochikit/content/browser/browser/components/sessionstore/test/browser/browser_354894.js | Console message:
> TEST-INFO | chrome://mochikit/content/browser/browser/components/sessionstore/test/browser/browser_354894.js | Console message: [JavaScript Error: "[Exception... "'JavaScript component does not have a method named: "notify"' when calling method: [nsITimerCallback::notify]"  nsresult: "0x80570030 (NS_ERROR_XPC_JSOBJECT_HAS_NO_FUNCTION_NAMED)"  location: "&lt;unknown>"  data: no]"]
> TEST-PASS | chrome://mochikit/content/browser/browser/components/sessionstore/test/browser/browser_354894.js | Restored after leaving private browsing again
> TEST-PASS | chrome://mochikit/content/browser/browser/components/sessionstore/test/browser/browser_354894.js | browser windows after testOpenClosePrivateBrowsing (nsIWindowMediator)
> TEST-PASS | chrome://mochikit/content/browser/browser/components/sessionstore/test/browser/browser_354894.js | browser windows after testOpenClosePrivateBrowsing (getBrowserState)
> TEST-INFO | chrome://mochikit/content/browser/browser/components/sessionstore/test/browser/browser_354894.js | Console message: [JavaScript Error: "[Exception... "'JavaScript component does not have a method named: "notify"' when calling method: [nsITimerCallback::notify]"  nsresult: "0x80570030 (NS_ERROR_XPC_JSOBJECT_HAS_NO_FUNCTION_NAMED)"  location: "&lt;unknown>"  data: no]"]
> TEST-INFO | chrome://mochikit/content/browser/browser/components/sessionstore/test/browser/browser_354894.js | Console message: [JavaScript Error: "this.editor is null" {file: "chrome://global/content/bindings/textbox.xml" line: 140}]
> TEST-INFO | chrome://mochikit/content/browser/browser/components/sessionstore/test/browser/browser_354894.js | Console message: [JavaScript Error: "this.editor is null" {file: "chrome://global/content/bindings/textbox.xml" line: 140}]
> TEST-PASS | chrome://mochikit/content/browser/browser/components/sessionstore/test/browser/browser_354894.js | Restored window and associated tabs in session
> TEST-PASS | chrome://mochikit/content/browser/browser/components/sessionstore/test/browser/browser_354894.js | browser windows after testOpenCloseWindowAndPopup (nsIWindowMediator)
> TEST-PASS | chrome://mochikit/content/browser/browser/components/sessionstore/test/browser/browser_354894.js | browser windows after testOpenCloseWindowAndPopup (getBrowserState)
> TEST-INFO | chrome://mochikit/content/browser/browser/components/sessionstore/test/browser/browser_354894.js | Console message: [JavaScript Error: "[Exception... "'JavaScript component does not have a method named: "notify"' when calling method: [nsITimerCallback::notify]"  nsresult: "0x80570030 (NS_ERROR_XPC_JSOBJECT_HAS_NO_FUNCTION_NAMED)"  location: "&lt;unknown>"  data: no]"]
> TEST-PASS | chrome://mochikit/content/browser/browser/components/sessionstore/test/browser/browser_354894.js | Did not restore the popup window (1)
> TEST-INFO | chrome://mochikit/content/browser/browser/components/sessionstore/test/browser/browser_354894.js | Console message: [JavaScript Error: "this.editor is null" {file: "chrome://global/content/bindings/textbox.xml" line: 140}]
> TEST-INFO | chrome://mochikit/content/browser/browser/components/sessionstore/test/browser/browser_354894.js | Console message: [JavaScript Error: "[Exception... "Component returned failure code: 0x80004005 (NS_ERROR_FAILURE) [nsIObserverService.removeObserver]"  nsresult: "0x80004005 (NS_ERROR_FAILURE)"  location: "JS frame :: chrome://browser/content/browser.js :: FullZoom_destroy :: line 168"  data: no]" {file: "chrome://browser/content/browser.js" line: 3732}]
> TEST-INFO | chrome://mochikit/content/browser/browser/components/sessionstore/test/browser/browser_354894.js | Console message: [JavaScript Error: "uncaught exception: [Exception... "Component returned failure code: 0x80004005 (NS_ERROR_FAILURE) [nsIObserverService.removeObserver]"  nsresult: "0x80004005 (NS_ERROR_FAILURE)"  location: "JS frame :: chrome://browser/content/browser.js :: BrowserShutdown :: line 3735"  data: no]"]
> TEST-INFO | chrome://mochikit/content/browser/browser/components/sessionstore/test/browser/browser_354894.js | Console message: [JavaScript Error: "this.editor is null" {file: "chrome://global/content/bindings/textbox.xml" line: 140}]
> TEST-PASS | chrome://mochikit/content/browser/browser/components/sessionstore/test/browser/browser_354894.js | Did not restore to the popup window (2)
> TEST-PASS | chrome://mochikit/content/browser/browser/components/sessionstore/test/browser/browser_354894.js | Did not restore the popup window
> TEST-PASS | chrome://mochikit/content/browser/browser/components/sessionstore/test/browser/browser_354894.js | Did not restore the popup window (2)
> TEST-INFO | chrome://mochikit/content/browser/browser/components/sessionstore/test/browser/browser_354894.js | Console message: [JavaScript Error: "[Exception... "Component returned failure code: 0x80004005 (NS_ERROR_FAILURE) [nsIObserverService.removeObserver]"  nsresult: "0x80004005 (NS_ERROR_FAILURE)"  location: "JS frame :: chrome://browser/content/browser.js :: FullZoom_destroy :: line 168"  data: no]" {file: "chrome://browser/content/browser.js" line: 3732}]
> TEST-INFO | chrome://mochikit/content/browser/browser/components/sessionstore/test/browser/browser_354894.js | Console message: [JavaScript Error: "uncaught exception: [Exception... "Component returned failure code: 0x80004005 (NS_ERROR_FAILURE) [nsIObserverService.removeObserver]"  nsresult: "0x80004005 (NS_ERROR_FAILURE)"  location: "JS frame :: chrome://browser/content/browser.js :: BrowserShutdown :: line 3735"  data: no]"]
> TEST-PASS | chrome://mochikit/content/browser/browser/components/sessionstore/test/browser/browser_354894.js | browser windows after testOpenCloseOnlyPopup (nsIWindowMediator)
> TEST-PASS | chrome://mochikit/content/browser/browser/components/sessionstore/test/browser/browser_354894.js | browser windows after testOpenCloseOnlyPopup (getBrowserState)
> TEST-INFO | chrome://mochikit/content/browser/browser/components/sessionstore/test/browser/browser_354894.js | Console message: [JavaScript Error: "[Exception... "'JavaScript component does not have a method named: "notify"' when calling method: [nsITimerCallback::notify]"  nsresult: "0x80570030 (NS_ERROR_XPC_JSOBJECT_HAS_NO_FUNCTION_NAMED)"  location: "&lt;unknown>"  data: no]"]
> TEST-PASS | chrome://mochikit/content/browser/browser/components/sessionstore/test/browser/browser_354894.js | browser windows while running testOpenCloseRestoreFromPopup (nsIWindowMediator)
> TEST-PASS | chrome://mochikit/content/browser/browser/components/sessionstore/test/browser/browser_354894.js | browser windows while running testOpenCloseRestoreFromPopup (getBrowserState)
> *** registerProtocolHandler(testprotocol,https://example.com/foobar?uri=%s,Test Protocol)
> *** registerProtocolHandler(testprotocol,https://example.com/foobar?uri=%s,Test Protocol)