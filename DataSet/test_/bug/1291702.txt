WebAudio negative-size-param crash: [@mozilla::dom::AudioNode::DisconnectFromOutputIfConnected]
Created attachment 8777325
testcase

==11104==ERROR: AddressSanitizer: negative-size-param: (size=-8)
==11104==WARNING: invalid path to external symbolizer!
==11104==WARNING: Failed to use and restart external symbolizer!
#0 0x10f46a98b in __asan_memmove (/srv/repos/llvm/r253176/build/lib/clang/3.8.0/lib/darwin/libclang_rt.asan_osx_dynamic.dylib+0x4098b)
#1 0x1132d831c in nsTArray_CopyWithMemutils::MoveOverlappingRegion(void*, void*, unsigned long, unsigned long) (/srv/repos/mozilla/mozilla-inbound/obj-ff64-asan-opt-nodebug/dist/Nightly.app/Contents/MacOS/XUL+0x2931c)
#2 0x11658095c in mozilla::dom::AudioNode::DisconnectFromOutputIfConnected(mozilla::dom::AudioNode&, unsigned int, unsigned int) (/srv/repos/mozilla/mozilla-inbound/obj-ff64-asan-opt-nodebug/dist/Nightly.app/Contents/MacOS/XUL+0x32d195c)
#3 0x116580d2e in mozilla::dom::AudioNode::Disconnect(unsigned int, mozilla::ErrorResult&) (/srv/repos/mozilla/mozilla-inbound/obj-ff64-asan-opt-nodebug/dist/Nightly.app/Contents/MacOS/XUL+0x32d1d2e)
#4 0x114fd4521 in mozilla::dom::AudioNodeBinding::disconnect(JSContext*, JS::Handle<JSObject*>, mozilla::dom::AudioNode*, JSJitMethodCallArgs const&) (/srv/repos/mozilla/mozilla-inbound/obj-ff64-asan-opt-nodebug/dist/Nightly.app/Contents/MacOS/XUL+0x1d25521)
#5 0x115e37300 in mozilla::dom::GenericBindingMethod(JSContext*, unsigned int, JS::Value*) (/srv/repos/mozilla/mozilla-inbound/obj-ff64-asan-opt-nodebug/dist/Nightly.app/Contents/MacOS/XUL+0x2b88300)
#6 0x1193fb67e in js::InternalCallOrConstruct(JSContext*, JS::CallArgs const&, js::MaybeConstruct) (/srv/repos/mozilla/mozilla-inbound/obj-ff64-asan-opt-nodebug/dist/Nightly.app/Contents/MacOS/XUL+0x614c67e)
#7 0x1193ecd83 in Interpret(JSContext*, js::RunState&) (/srv/repos/mozilla/mozilla-inbound/obj-ff64-asan-opt-nodebug/dist/Nightly.app/Contents/MacOS/XUL+0x613dd83)
#8 0x1193e0abc in js::RunScript(JSContext*, js::RunState&) (/srv/repos/mozilla/mozilla-inbound/obj-ff64-asan-opt-nodebug/dist/Nightly.app/Contents/MacOS/XUL+0x6131abc)
#9 0x1193fc799 in js::ExecuteKernel(JSContext*, JS::Handle<JSScript*>, JSObject&, JS::Value const&, js::AbstractFramePtr, JS::Value*) (/srv/repos/mozilla/mozilla-inbound/obj-ff64-asan-opt-nodebug/dist/Nightly.app/Contents/MacOS/XUL+0x614d799)
#10 0x1192e3f38 in EvalKernel(JSContext*, JS::Handle<JS::Value>, EvalType, js::AbstractFramePtr, JS::Handle<JSObject*>, unsigned char*, JS::MutableHandle<JS::Value>) (/srv/repos/mozilla/mozilla-inbound/obj-ff64-asan-opt-nodebug/dist/Nightly.app/Contents/MacOS/XUL+0x6034f38)
#11 0x1192e4417 in js::DirectEval(JSContext*, JS::Handle<JS::Value>, JS::MutableHandle<JS::Value>) (/srv/repos/mozilla/mozilla-inbound/obj-ff64-asan-opt-nodebug/dist/Nightly.app/Contents/MacOS/XUL+0x6035417)
#12 0x118e0a712 in js::jit::DoCallFallback(JSContext*, js::jit::BaselineFrame*, js::jit::ICCall_Fallback*, unsigned int, JS::Value*, JS::MutableHandle<JS::Value>) (/srv/repos/mozilla/mozilla-inbound/obj-ff64-asan-opt-nodebug/dist/Nightly.app/Contents/MacOS/XUL+0x5b5b712)
#13 0x12ab3d745  (<unknown module>)
#14 0x621000d30aff  (<unknown module>)
#15 0x1c3bea353  (<unknown module>)
#16 0x6210004ea647  (<unknown module>)
#17 0x12ab36887  (<unknown module>)
#18 0x118e4f70a in EnterBaseline(JSContext*, js::jit::EnterJitData&) (/srv/repos/mozilla/mozilla-inbound/obj-ff64-asan-opt-nodebug/dist/Nightly.app/Contents/MacOS/XUL+0x5ba070a)
#19 0x118e4fe96 in js::jit::EnterBaselineAtBranch(JSContext*, js::InterpreterFrame*, unsigned char*) (/srv/repos/mozilla/mozilla-inbound/obj-ff64-asan-opt-nodebug/dist/Nightly.app/Contents/MacOS/XUL+0x5ba0e96)
#20 0x1193f68ce in Interpret(JSContext*, js::RunState&) (/srv/repos/mozilla/mozilla-inbound/obj-ff64-asan-opt-nodebug/dist/Nightly.app/Contents/MacOS/XUL+0x61478ce)
#21 0x1193e0abc in js::RunScript(JSContext*, js::RunState&) (/srv/repos/mozilla/mozilla-inbound/obj-ff64-asan-opt-nodebug/dist/Nightly.app/Contents/MacOS/XUL+0x6131abc)
#22 0x1193fb704 in js::InternalCallOrConstruct(JSContext*, JS::CallArgs const&, js::MaybeConstruct) (/srv/repos/mozilla/mozilla-inbound/obj-ff64-asan-opt-nodebug/dist/Nightly.app/Contents/MacOS/XUL+0x614c704)
#23 0x1193d131d in js::Call(JSContext*, JS::Handle<JS::Value>, JS::Handle<JS::Value>, js::AnyInvokeArgs const&, JS::MutableHandle<JS::Value>) (/srv/repos/mozilla/mozilla-inbound/obj-ff64-asan-opt-nodebug/dist/Nightly.app/Contents/MacOS/XUL+0x612231d)
#24 0x119178f64 in JS::Call(JSContext*, JS::Handle<JS::Value>, JS::Handle<JS::Value>, JS::HandleValueArray const&, JS::MutableHandle<JS::Value>) (/srv/repos/mozilla/mozilla-inbound/obj-ff64-asan-opt-nodebug/dist/Nightly.app/Contents/MacOS/XUL+0x5ec9f64)
#25 0x115bbbbe6 in mozilla::dom::EventListener::HandleEvent(JSContext*, JS::Handle<JS::Value>, mozilla::dom::Event&, mozilla::ErrorResult&) (/srv/repos/mozilla/mozilla-inbound/obj-ff64-asan-opt-nodebug/dist/Nightly.app/Contents/MacOS/XUL+0x290cbe6)
#26 0x11605a0da in void mozilla::dom::EventListener::HandleEvent<mozilla::dom::EventTarget*>(mozilla::dom::EventTarget* const&, mozilla::dom::Event&, mozilla::ErrorResult&, char const*, mozilla::dom::CallbackObject::ExceptionHandling, JSCompartment*) (/srv/repos/mozilla/mozilla-inbound/obj-ff64-asan-opt-nodebug/dist/Nightly.app/Contents/MacOS/XUL+0x2dab0da)
#27 0x116059d8d in mozilla::EventListenerManager::HandleEventSubType(mozilla::EventListenerManager::Listener*, nsIDOMEvent*, mozilla::dom::EventTarget*) (/srv/repos/mozilla/mozilla-inbound/obj-ff64-asan-opt-nodebug/dist/Nightly.app/Contents/MacOS/XUL+0x2daad8d)
#28 0x11605ac40 in mozilla::EventListenerManager::HandleEventInternal(nsPresContext*, mozilla::WidgetEvent*, nsIDOMEvent**, mozilla::dom::EventTarget*, nsEventStatus*) (/srv/repos/mozilla/mozilla-inbound/obj-ff64-asan-opt-nodebug/dist/Nightly.app/Contents/MacOS/XUL+0x2dabc40)
#29 0x11604b1d8 in mozilla::EventTargetChainItem::HandleEventTargetChain(nsTArray<mozilla::EventTargetChainItem>&, mozilla::EventChainPostVisitor&, mozilla::EventDispatchingCallback*, mozilla::ELMCreationDetector&) (/srv/repos/mozilla/mozilla-inbound/obj-ff64-asan-opt-nodebug/dist/Nightly.app/Contents/MacOS/XUL+0x2d9c1d8)
#30 0x11604caf9 in mozilla::EventDispatcher::Dispatch(nsISupports*, nsPresContext*, mozilla::WidgetEvent*, nsIDOMEvent*, nsEventStatus*, mozilla::EventDispatchingCallback*, nsTArray<mozilla::dom::EventTarget*>*) (/srv/repos/mozilla/mozilla-inbound/obj-ff64-asan-opt-nodebug/dist/Nightly.app/Contents/MacOS/XUL+0x2d9daf9)
#31 0x11603cbc6 in mozilla::EventDispatcher::DispatchDOMEvent(nsISupports*, mozilla::WidgetEvent*, nsIDOMEvent*, nsPresContext*, nsEventStatus*) (/srv/repos/mozilla/mozilla-inbound/obj-ff64-asan-opt-nodebug/dist/Nightly.app/Contents/MacOS/XUL+0x2d8dbc6)
#32 0x114e9f334 in nsINode::DispatchEvent(nsIDOMEvent*, bool*) (/srv/repos/mozilla/mozilla-inbound/obj-ff64-asan-opt-nodebug/dist/Nightly.app/Contents/MacOS/XUL+0x1bf0334)
#33 0x114c67f6b in nsContentUtils::DispatchEvent(nsIDocument*, nsISupports*, nsAString_internal const&, bool, bool, bool, bool*, bool) (/srv/repos/mozilla/mozilla-inbound/obj-ff64-asan-opt-nodebug/dist/Nightly.app/Contents/MacOS/XUL+0x19b8f6b)
#34 0x114c67d95 in nsContentUtils::DispatchTrustedEvent(nsIDocument*, nsISupports*, nsAString_internal const&, bool, bool, bool*) (/srv/repos/mozilla/mozilla-inbound/obj-ff64-asan-opt-nodebug/dist/Nightly.app/Contents/MacOS/XUL+0x19b8d95)
#35 0x114e4204b in nsDocument::DispatchContentLoadedEvents() (/srv/repos/mozilla/mozilla-inbound/obj-ff64-asan-opt-nodebug/dist/Nightly.app/Contents/MacOS/XUL+0x1b9304b)
#36 0x114ecab7a in mozilla::detail::RunnableMethodImpl<void (nsDocument::*)(), true, false>::Run() (/srv/repos/mozilla/mozilla-inbound/obj-ff64-asan-opt-nodebug/dist/Nightly.app/Contents/MacOS/XUL+0x1c1bb7a)
#37 0x1133fe38f in nsThread::ProcessNextEvent(bool, bool*) (/srv/repos/mozilla/mozilla-inbound/obj-ff64-asan-opt-nodebug/dist/Nightly.app/Contents/MacOS/XUL+0x14f38f)
#38 0x11345a9e6 in NS_ProcessPendingEvents(nsIThread*, unsigned int) (/srv/repos/mozilla/mozilla-inbound/obj-ff64-asan-opt-nodebug/dist/Nightly.app/Contents/MacOS/XUL+0x1ab9e6)
#39 0x116cbb473 in nsBaseAppShell::NativeEventCallback() (/srv/repos/mozilla/mozilla-inbound/obj-ff64-asan-opt-nodebug/dist/Nightly.app/Contents/MacOS/XUL+0x3a0c473)
#40 0x116d49d59 in nsAppShell::ProcessGeckoEvents(void*) (/srv/repos/mozilla/mozilla-inbound/obj-ff64-asan-opt-nodebug/dist/Nightly.app/Contents/MacOS/XUL+0x3a9ad59)
#41 0x7fff9ae34880 in __CFRUNLOOP_IS_CALLING_OUT_TO_A_SOURCE0_PERFORM_FUNCTION__ (/System/Library/Frameworks/CoreFoundation.framework/Versions/A/CoreFoundation+0xaa880)
#42 0x7fff9ae13fbb in __CFRunLoopDoSources0 (/System/Library/Frameworks/CoreFoundation.framework/Versions/A/CoreFoundation+0x89fbb)
#43 0x7fff9ae134de in __CFRunLoopRun (/System/Library/Frameworks/CoreFoundation.framework/Versions/A/CoreFoundation+0x894de)
#44 0x7fff9ae12ed7 in CFRunLoopRunSpecific (/System/Library/Frameworks/CoreFoundation.framework/Versions/A/CoreFoundation+0x88ed7)
#45 0x7fff9b77c934 in RunCurrentEventLoopInMode (/System/Library/Frameworks/Carbon.framework/Versions/A/Frameworks/HIToolbox.framework/Versions/A/HIToolbox+0x30934)
#46 0x7fff9b77c76e in ReceiveNextEventCommon (/System/Library/Frameworks/Carbon.framework/Versions/A/Frameworks/HIToolbox.framework/Versions/A/HIToolbox+0x3076e)
#47 0x7fff9b77c5ae in _BlockUntilNextEventMatchingListInModeWithFilter (/System/Library/Frameworks/Carbon.framework/Versions/A/Frameworks/HIToolbox.framework/Versions/A/HIToolbox+0x305ae)
#48 0x7fff95e0edf5 in _DPSNextEvent (/System/Library/Frameworks/AppKit.framework/Versions/C/AppKit+0x48df5)
#49 0x7fff95e0e225 in -[NSApplication _nextEventMatchingEventMask:untilDate:inMode:dequeue:] (/System/Library/Frameworks/AppKit.framework/Versions/C/AppKit+0x48225)
#50 0x116d48cf5 in -[GeckoNSApplication nextEventMatchingMask:untilDate:inMode:dequeue:] (/srv/repos/mozilla/mozilla-inbound/obj-ff64-asan-opt-nodebug/dist/Nightly.app/Contents/MacOS/XUL+0x3a99cf5)
#51 0x7fff95e02d7f in -[NSApplication run] (/System/Library/Frameworks/AppKit.framework/Versions/C/AppKit+0x3cd7f)
#52 0x116d4a820 in nsAppShell::Run() (/srv/repos/mozilla/mozilla-inbound/obj-ff64-asan-opt-nodebug/dist/Nightly.app/Contents/MacOS/XUL+0x3a9b820)
#53 0x117d3d484 in nsAppStartup::Run() (/srv/repos/mozilla/mozilla-inbound/obj-ff64-asan-opt-nodebug/dist/Nightly.app/Contents/MacOS/XUL+0x4a8e484)
#54 0x117df295b in XREMain::XRE_mainRun() (/srv/repos/mozilla/mozilla-inbound/obj-ff64-asan-opt-nodebug/dist/Nightly.app/Contents/MacOS/XUL+0x4b4395b)
#55 0x117df3809 in XREMain::XRE_main(int, char**, nsXREAppData const*) (/srv/repos/mozilla/mozilla-inbound/obj-ff64-asan-opt-nodebug/dist/Nightly.app/Contents/MacOS/XUL+0x4b44809)
#56 0x117df3d89 in XRE_main (/srv/repos/mozilla/mozilla-inbound/obj-ff64-asan-opt-nodebug/dist/Nightly.app/Contents/MacOS/XUL+0x4b44d89)
#57 0x10f3d0671 in do_main(int, char**, char**, nsIFile*) (/srv/repos/mozilla/mozilla-inbound/obj-ff64-asan-opt-nodebug/dist/Nightly.app/Contents/MacOS/firefox+0x100001671)
#58 0x10f3cfd93 in main (/srv/repos/mozilla/mozilla-inbound/obj-ff64-asan-opt-nodebug/dist/Nightly.app/Contents/MacOS/firefox+0x100000d93)
#59 0x10f3cfcf3 in start (/srv/repos/mozilla/mozilla-inbound/obj-ff64-asan-opt-nodebug/dist/Nightly.app/Contents/MacOS/firefox+0x100000cf3)
#60 0x9  (<unknown module>)

0x6030000cdfe0 is located 32 bytes inside of 32-byte region [0x6030000cdfc0,0x6030000cdfe0)
allocated by thread T0 here:
#0 0x10f473d97 in wrap_realloc (/srv/repos/llvm/r253176/build/lib/clang/3.8.0/lib/darwin/libclang_rt.asan_osx_dynamic.dylib+0x49d97)
#1 0x10f3e5bed in moz_xrealloc (/srv/repos/mozilla/mozilla-inbound/obj-ff64-asan-opt-nodebug/dist/Nightly.app/Contents/MacOS/libmozglue.dylib+0x1bed)
#2 0x1132d91d3 in nsTArrayInfallibleAllocator::ResultTypeProxy nsTArray_base<nsTArrayInfallibleAllocator, nsTArray_CopyWithMemutils>::EnsureCapacity<nsTArrayInfallibleAllocator>(unsigned long, unsigned long) (/srv/repos/mozilla/mozilla-inbound/obj-ff64-asan-opt-nodebug/dist/Nightly.app/Contents/MacOS/XUL+0x2a1d3)
#3 0x116580085 in RefPtr<mozilla::dom::AudioNode>* nsTArray_Impl<RefPtr<mozilla::dom::AudioNode>, nsTArrayInfallibleAllocator>::AppendElement<mozilla::dom::AudioNode*, nsTArrayInfallibleAllocator>(mozilla::dom::AudioNode*&&) (/srv/repos/mozilla/mozilla-inbound/obj-ff64-asan-opt-nodebug/dist/Nightly.app/Contents/MacOS/XUL+0x32d1085)
#4 0x11657fda5 in mozilla::dom::AudioNode::Connect(mozilla::dom::AudioNode&, unsigned int, unsigned int, mozilla::ErrorResult&) (/srv/repos/mozilla/mozilla-inbound/obj-ff64-asan-opt-nodebug/dist/Nightly.app/Contents/MacOS/XUL+0x32d0da5)
#5 0x114fd3512 in mozilla::dom::AudioNodeBinding::connect(JSContext*, JS::Handle<JSObject*>, mozilla::dom::AudioNode*, JSJitMethodCallArgs const&) (/srv/repos/mozilla/mozilla-inbound/obj-ff64-asan-opt-nodebug/dist/Nightly.app/Contents/MacOS/XUL+0x1d24512)
#6 0x115e37300 in mozilla::dom::GenericBindingMethod(JSContext*, unsigned int, JS::Value*) (/srv/repos/mozilla/mozilla-inbound/obj-ff64-asan-opt-nodebug/dist/Nightly.app/Contents/MacOS/XUL+0x2b88300)
#7 0x1193fb67e in js::InternalCallOrConstruct(JSContext*, JS::CallArgs const&, js::MaybeConstruct) (/srv/repos/mozilla/mozilla-inbound/obj-ff64-asan-opt-nodebug/dist/Nightly.app/Contents/MacOS/XUL+0x614c67e)
#8 0x1193ecd83 in Interpret(JSContext*, js::RunState&) (/srv/repos/mozilla/mozilla-inbound/obj-ff64-asan-opt-nodebug/dist/Nightly.app/Contents/MacOS/XUL+0x613dd83)
#9 0x1193e0abc in js::RunScript(JSContext*, js::RunState&) (/srv/repos/mozilla/mozilla-inbound/obj-ff64-asan-opt-nodebug/dist/Nightly.app/Contents/MacOS/XUL+0x6131abc)
#10 0x1193fc799 in js::ExecuteKernel(JSContext*, JS::Handle<JSScript*>, JSObject&, JS::Value const&, js::AbstractFramePtr, JS::Value*) (/srv/repos/mozilla/mozilla-inbound/obj-ff64-asan-opt-nodebug/dist/Nightly.app/Contents/MacOS/XUL+0x614d799)
#11 0x1192e3f38 in EvalKernel(JSContext*, JS::Handle<JS::Value>, EvalType, js::AbstractFramePtr, JS::Handle<JSObject*>, unsigned char*, JS::MutableHandle<JS::Value>) (/srv/repos/mozilla/mozilla-inbound/obj-ff64-asan-opt-nodebug/dist/Nightly.app/Contents/MacOS/XUL+0x6034f38)
#12 0x1192e4417 in js::DirectEval(JSContext*, JS::Handle<JS::Value>, JS::MutableHandle<JS::Value>) (/srv/repos/mozilla/mozilla-inbound/obj-ff64-asan-opt-nodebug/dist/Nightly.app/Contents/MacOS/XUL+0x6035417)
#13 0x118e0a712 in js::jit::DoCallFallback(JSContext*, js::jit::BaselineFrame*, js::jit::ICCall_Fallback*, unsigned int, JS::Value*, JS::MutableHandle<JS::Value>) (/srv/repos/mozilla/mozilla-inbound/obj-ff64-asan-opt-nodebug/dist/Nightly.app/Contents/MacOS/XUL+0x5b5b712)
#14 0x12ab3d745  (<unknown module>)
#15 0x621000d30aff  (<unknown module>)
#16 0x1c3bea353  (<unknown module>)
#17 0x6210004ea647  (<unknown module>)
#18 0x12ab36887  (<unknown module>)
#19 0x118e4f70a in EnterBaseline(JSContext*, js::jit::EnterJitData&) (/srv/repos/mozilla/mozilla-inbound/obj-ff64-asan-opt-nodebug/dist/Nightly.app/Contents/MacOS/XUL+0x5ba070a)
#20 0x118e4fe96 in js::jit::EnterBaselineAtBranch(JSContext*, js::InterpreterFrame*, unsigned char*) (/srv/repos/mozilla/mozilla-inbound/obj-ff64-asan-opt-nodebug/dist/Nightly.app/Contents/MacOS/XUL+0x5ba0e96)
#21 0x1193f68ce in Interpret(JSContext*, js::RunState&) (/srv/repos/mozilla/mozilla-inbound/obj-ff64-asan-opt-nodebug/dist/Nightly.app/Contents/MacOS/XUL+0x61478ce)
#22 0x1193e0abc in js::RunScript(JSContext*, js::RunState&) (/srv/repos/mozilla/mozilla-inbound/obj-ff64-asan-opt-nodebug/dist/Nightly.app/Contents/MacOS/XUL+0x6131abc)
#23 0x1193fb704 in js::InternalCallOrConstruct(JSContext*, JS::CallArgs const&, js::MaybeConstruct) (/srv/repos/mozilla/mozilla-inbound/obj-ff64-asan-opt-nodebug/dist/Nightly.app/Contents/MacOS/XUL+0x614c704)
#24 0x1193d131d in js::Call(JSContext*, JS::Handle<JS::Value>, JS::Handle<JS::Value>, js::AnyInvokeArgs const&, JS::MutableHandle<JS::Value>) (/srv/repos/mozilla/mozilla-inbound/obj-ff64-asan-opt-nodebug/dist/Nightly.app/Contents/MacOS/XUL+0x612231d)
#25 0x119178f64 in JS::Call(JSContext*, JS::Handle<JS::Value>, JS::Handle<JS::Value>, JS::HandleValueArray const&, JS::MutableHandle<JS::Value>) (/srv/repos/mozilla/mozilla-inbound/obj-ff64-asan-opt-nodebug/dist/Nightly.app/Contents/MacOS/XUL+0x5ec9f64)
#26 0x115bbbbe6 in mozilla::dom::EventListener::HandleEvent(JSContext*, JS::Handle<JS::Value>, mozilla::dom::Event&, mozilla::ErrorResult&) (/srv/repos/mozilla/mozilla-inbound/obj-ff64-asan-opt-nodebug/dist/Nightly.app/Contents/MacOS/XUL+0x290cbe6)
#27 0x11605a0da in void mozilla::dom::EventListener::HandleEvent<mozilla::dom::EventTarget*>(mozilla::dom::EventTarget* const&, mozilla::dom::Event&, mozilla::ErrorResult&, char const*, mozilla::dom::CallbackObject::ExceptionHandling, JSCompartment*) (/srv/repos/mozilla/mozilla-inbound/obj-ff64-asan-opt-nodebug/dist/Nightly.app/Contents/MacOS/XUL+0x2dab0da)
#28 0x116059d8d in mozilla::EventListenerManager::HandleEventSubType(mozilla::EventListenerManager::Listener*, nsIDOMEvent*, mozilla::dom::EventTarget*) (/srv/repos/mozilla/mozilla-inbound/obj-ff64-asan-opt-nodebug/dist/Nightly.app/Contents/MacOS/XUL+0x2daad8d)
#29 0x11605ac40 in mozilla::EventListenerManager::HandleEventInternal(nsPresContext*, mozilla::WidgetEvent*, nsIDOMEvent**, mozilla::dom::EventTarget*, nsEventStatus*) (/srv/repos/mozilla/mozilla-inbound/obj-ff64-asan-opt-nodebug/dist/Nightly.app/Contents/MacOS/XUL+0x2dabc40)

SUMMARY: AddressSanitizer: negative-size-param (/srv/repos/llvm/r253176/build/lib/clang/3.8.0/lib/darwin/libclang_rt.asan_osx_dynamic.dylib+0x4098b) in __asan_memmove
==11104==ABORTING==11104==ERROR: AddressSanitizer: negative-size-param: (size=-8)
==11104==WARNING: invalid path to external symbolizer!
==11104==WARNING: Failed to use and restart external symbolizer!
#0 0x10f46a98b in __asan_memmove (/srv/repos/llvm/r253176/build/lib/clang/3.8.0/lib/darwin/libclang_rt.asan_osx_dynamic.dylib+0x4098b)
#1 0x1132d831c in nsTArray_CopyWithMemutils::MoveOverlappingRegion(void*, void*, unsigned long, unsigned long) (/srv/repos/mozilla/mozilla-inbound/obj-ff64-asan-opt-nodebug/dist/Nightly.app/Contents/MacOS/XUL+0x2931c)
#2 0x11658095c in mozilla::dom::AudioNode::DisconnectFromOutputIfConnected(mozilla::dom::AudioNode&, unsigned int, unsigned int) (/srv/repos/mozilla/mozilla-inbound/obj-ff64-asan-opt-nodebug/dist/Nightly.app/Contents/MacOS/XUL+0x32d195c)
#3 0x116580d2e in mozilla::dom::AudioNode::Disconnect(unsigned int, mozilla::ErrorResult&) (/srv/repos/mozilla/mozilla-inbound/obj-ff64-asan-opt-nodebug/dist/Nightly.app/Contents/MacOS/XUL+0x32d1d2e)
#4 0x114fd4521 in mozilla::dom::AudioNodeBinding::disconnect(JSContext*, JS::Handle<JSObject*>, mozilla::dom::AudioNode*, JSJitMethodCallArgs const&) (/srv/repos/mozilla/mozilla-inbound/obj-ff64-asan-opt-nodebug/dist/Nightly.app/Contents/MacOS/XUL+0x1d25521)
#5 0x115e37300 in mozilla::dom::GenericBindingMethod(JSContext*, unsigned int, JS::Value*) (/srv/repos/mozilla/mozilla-inbound/obj-ff64-asan-opt-nodebug/dist/Nightly.app/Contents/MacOS/XUL+0x2b88300)
#6 0x1193fb67e in js::InternalCallOrConstruct(JSContext*, JS::CallArgs const&, js::MaybeConstruct) (/srv/repos/mozilla/mozilla-inbound/obj-ff64-asan-opt-nodebug/dist/Nightly.app/Contents/MacOS/XUL+0x614c67e)
#7 0x1193ecd83 in Interpret(JSContext*, js::RunState&) (/srv/repos/mozilla/mozilla-inbound/obj-ff64-asan-opt-nodebug/dist/Nightly.app/Contents/MacOS/XUL+0x613dd83)
#8 0x1193e0abc in js::RunScript(JSContext*, js::RunState&) (/srv/repos/mozilla/mozilla-inbound/obj-ff64-asan-opt-nodebug/dist/Nightly.app/Contents/MacOS/XUL+0x6131abc)
#9 0x1193fc799 in js::ExecuteKernel(JSContext*, JS::Handle<JSScript*>, JSObject&, JS::Value const&, js::AbstractFramePtr, JS::Value*) (/srv/repos/mozilla/mozilla-inbound/obj-ff64-asan-opt-nodebug/dist/Nightly.app/Contents/MacOS/XUL+0x614d799)
#10 0x1192e3f38 in EvalKernel(JSContext*, JS::Handle<JS::Value>, EvalType, js::AbstractFramePtr, JS::Handle<JSObject*>, unsigned char*, JS::MutableHandle<JS::Value>) (/srv/repos/mozilla/mozilla-inbound/obj-ff64-asan-opt-nodebug/dist/Nightly.app/Contents/MacOS/XUL+0x6034f38)
#11 0x1192e4417 in js::DirectEval(JSContext*, JS::Handle<JS::Value>, JS::MutableHandle<JS::Value>) (/srv/repos/mozilla/mozilla-inbound/obj-ff64-asan-opt-nodebug/dist/Nightly.app/Contents/MacOS/XUL+0x6035417)
#12 0x118e0a712 in js::jit::DoCallFallback(JSContext*, js::jit::BaselineFrame*, js::jit::ICCall_Fallback*, unsigned int, JS::Value*, JS::MutableHandle<JS::Value>) (/srv/repos/mozilla/mozilla-inbound/obj-ff64-asan-opt-nodebug/dist/Nightly.app/Contents/MacOS/XUL+0x5b5b712)
#13 0x12ab3d745  (<unknown module>)
#14 0x621000d30aff  (<unknown module>)
#15 0x1c3bea353  (<unknown module>)
#16 0x6210004ea647  (<unknown module>)
#17 0x12ab36887  (<unknown module>)
#18 0x118e4f70a in EnterBaseline(JSContext*, js::jit::EnterJitData&) (/srv/repos/mozilla/mozilla-inbound/obj-ff64-asan-opt-nodebug/dist/Nightly.app/Contents/MacOS/XUL+0x5ba070a)
#19 0x118e4fe96 in js::jit::EnterBaselineAtBranch(JSContext*, js::InterpreterFrame*, unsigned char*) (/srv/repos/mozilla/mozilla-inbound/obj-ff64-asan-opt-nodebug/dist/Nightly.app/Contents/MacOS/XUL+0x5ba0e96)
#20 0x1193f68ce in Interpret(JSContext*, js::RunState&) (/srv/repos/mozilla/mozilla-inbound/obj-ff64-asan-opt-nodebug/dist/Nightly.app/Contents/MacOS/XUL+0x61478ce)
#21 0x1193e0abc in js::RunScript(JSContext*, js::RunState&) (/srv/repos/mozilla/mozilla-inbound/obj-ff64-asan-opt-nodebug/dist/Nightly.app/Contents/MacOS/XUL+0x6131abc)
#22 0x1193fb704 in js::InternalCallOrConstruct(JSContext*, JS::CallArgs const&, js::MaybeConstruct) (/srv/repos/mozilla/mozilla-inbound/obj-ff64-asan-opt-nodebug/dist/Nightly.app/Contents/MacOS/XUL+0x614c704)
#23 0x1193d131d in js::Call(JSContext*, JS::Handle<JS::Value>, JS::Handle<JS::Value>, js::AnyInvokeArgs const&, JS::MutableHandle<JS::Value>) (/srv/repos/mozilla/mozilla-inbound/obj-ff64-asan-opt-nodebug/dist/Nightly.app/Contents/MacOS/XUL+0x612231d)
#24 0x119178f64 in JS::Call(JSContext*, JS::Handle<JS::Value>, JS::Handle<JS::Value>, JS::HandleValueArray const&, JS::MutableHandle<JS::Value>) (/srv/repos/mozilla/mozilla-inbound/obj-ff64-asan-opt-nodebug/dist/Nightly.app/Contents/MacOS/XUL+0x5ec9f64)
#25 0x115bbbbe6 in mozilla::dom::EventListener::HandleEvent(JSContext*, JS::Handle<JS::Value>, mozilla::dom::Event&, mozilla::ErrorResult&) (/srv/repos/mozilla/mozilla-inbound/obj-ff64-asan-opt-nodebug/dist/Nightly.app/Contents/MacOS/XUL+0x290cbe6)
#26 0x11605a0da in void mozilla::dom::EventListener::HandleEvent<mozilla::dom::EventTarget*>(mozilla::dom::EventTarget* const&, mozilla::dom::Event&, mozilla::ErrorResult&, char const*, mozilla::dom::CallbackObject::ExceptionHandling, JSCompartment*) (/srv/repos/mozilla/mozilla-inbound/obj-ff64-asan-opt-nodebug/dist/Nightly.app/Contents/MacOS/XUL+0x2dab0da)
#27 0x116059d8d in mozilla::EventListenerManager::HandleEventSubType(mozilla::EventListenerManager::Listener*, nsIDOMEvent*, mozilla::dom::EventTarget*) (/srv/repos/mozilla/mozilla-inbound/obj-ff64-asan-opt-nodebug/dist/Nightly.app/Contents/MacOS/XUL+0x2daad8d)
#28 0x11605ac40 in mozilla::EventListenerManager::HandleEventInternal(nsPresContext*, mozilla::WidgetEvent*, nsIDOMEvent**, mozilla::dom::EventTarget*, nsEventStatus*) (/srv/repos/mozilla/mozilla-inbound/obj-ff64-asan-opt-nodebug/dist/Nightly.app/Contents/MacOS/XUL+0x2dabc40)
#29 0x11604b1d8 in mozilla::EventTargetChainItem::HandleEventTargetChain(nsTArray<mozilla::EventTargetChainItem>&, mozilla::EventChainPostVisitor&, mozilla::EventDispatchingCallback*, mozilla::ELMCreationDetector&) (/srv/repos/mozilla/mozilla-inbound/obj-ff64-asan-opt-nodebug/dist/Nightly.app/Contents/MacOS/XUL+0x2d9c1d8)
#30 0x11604caf9 in mozilla::EventDispatcher::Dispatch(nsISupports*, nsPresContext*, mozilla::WidgetEvent*, nsIDOMEvent*, nsEventStatus*, mozilla::EventDispatchingCallback*, nsTArray<mozilla::dom::EventTarget*>*) (/srv/repos/mozilla/mozilla-inbound/obj-ff64-asan-opt-nodebug/dist/Nightly.app/Contents/MacOS/XUL+0x2d9daf9)
#31 0x11603cbc6 in mozilla::EventDispatcher::DispatchDOMEvent(nsISupports*, mozilla::WidgetEvent*, nsIDOMEvent*, nsPresContext*, nsEventStatus*) (/srv/repos/mozilla/mozilla-inbound/obj-ff64-asan-opt-nodebug/dist/Nightly.app/Contents/MacOS/XUL+0x2d8dbc6)
#32 0x114e9f334 in nsINode::DispatchEvent(nsIDOMEvent*, bool*) (/srv/repos/mozilla/mozilla-inbound/obj-ff64-asan-opt-nodebug/dist/Nightly.app/Contents/MacOS/XUL+0x1bf0334)
#33 0x114c67f6b in nsContentUtils::DispatchEvent(nsIDocument*, nsISupports*, nsAString_internal const&, bool, bool, bool, bool*, bool) (/srv/repos/mozilla/mozilla-inbound/obj-ff64-asan-opt-nodebug/dist/Nightly.app/Contents/MacOS/XUL+0x19b8f6b)
#34 0x114c67d95 in nsContentUtils::DispatchTrustedEvent(nsIDocument*, nsISupports*, nsAString_internal const&, bool, bool, bool*) (/srv/repos/mozilla/mozilla-inbound/obj-ff64-asan-opt-nodebug/dist/Nightly.app/Contents/MacOS/XUL+0x19b8d95)
#35 0x114e4204b in nsDocument::DispatchContentLoadedEvents() (/srv/repos/mozilla/mozilla-inbound/obj-ff64-asan-opt-nodebug/dist/Nightly.app/Contents/MacOS/XUL+0x1b9304b)
#36 0x114ecab7a in mozilla::detail::RunnableMethodImpl<void (nsDocument::*)(), true, false>::Run() (/srv/repos/mozilla/mozilla-inbound/obj-ff64-asan-opt-nodebug/dist/Nightly.app/Contents/MacOS/XUL+0x1c1bb7a)
#37 0x1133fe38f in nsThread::ProcessNextEvent(bool, bool*) (/srv/repos/mozilla/mozilla-inbound/obj-ff64-asan-opt-nodebug/dist/Nightly.app/Contents/MacOS/XUL+0x14f38f)
#38 0x11345a9e6 in NS_ProcessPendingEvents(nsIThread*, unsigned int) (/srv/repos/mozilla/mozilla-inbound/obj-ff64-asan-opt-nodebug/dist/Nightly.app/Contents/MacOS/XUL+0x1ab9e6)
#39 0x116cbb473 in nsBaseAppShell::NativeEventCallback() (/srv/repos/mozilla/mozilla-inbound/obj-ff64-asan-opt-nodebug/dist/Nightly.app/Contents/MacOS/XUL+0x3a0c473)
#40 0x116d49d59 in nsAppShell::ProcessGeckoEvents(void*) (/srv/repos/mozilla/mozilla-inbound/obj-ff64-asan-opt-nodebug/dist/Nightly.app/Contents/MacOS/XUL+0x3a9ad59)
#41 0x7fff9ae34880 in __CFRUNLOOP_IS_CALLING_OUT_TO_A_SOURCE0_PERFORM_FUNCTION__ (/System/Library/Frameworks/CoreFoundation.framework/Versions/A/CoreFoundation+0xaa880)
#42 0x7fff9ae13fbb in __CFRunLoopDoSources0 (/System/Library/Frameworks/CoreFoundation.framework/Versions/A/CoreFoundation+0x89fbb)
#43 0x7fff9ae134de in __CFRunLoopRun (/System/Library/Frameworks/CoreFoundation.framework/Versions/A/CoreFoundation+0x894de)
#44 0x7fff9ae12ed7 in CFRunLoopRunSpecific (/System/Library/Frameworks/CoreFoundation.framework/Versions/A/CoreFoundation+0x88ed7)
#45 0x7fff9b77c934 in RunCurrentEventLoopInMode (/System/Library/Frameworks/Carbon.framework/Versions/A/Frameworks/HIToolbox.framework/Versions/A/HIToolbox+0x30934)
#46 0x7fff9b77c76e in ReceiveNextEventCommon (/System/Library/Frameworks/Carbon.framework/Versions/A/Frameworks/HIToolbox.framework/Versions/A/HIToolbox+0x3076e)
#47 0x7fff9b77c5ae in _BlockUntilNextEventMatchingListInModeWithFilter (/System/Library/Frameworks/Carbon.framework/Versions/A/Frameworks/HIToolbox.framework/Versions/A/HIToolbox+0x305ae)
#48 0x7fff95e0edf5 in _DPSNextEvent (/System/Library/Frameworks/AppKit.framework/Versions/C/AppKit+0x48df5)
#49 0x7fff95e0e225 in -[NSApplication _nextEventMatchingEventMask:untilDate:inMode:dequeue:] (/System/Library/Frameworks/AppKit.framework/Versions/C/AppKit+0x48225)
#50 0x116d48cf5 in -[GeckoNSApplication nextEventMatchingMask:untilDate:inMode:dequeue:] (/srv/repos/mozilla/mozilla-inbound/obj-ff64-asan-opt-nodebug/dist/Nightly.app/Contents/MacOS/XUL+0x3a99cf5)
#51 0x7fff95e02d7f in -[NSApplication run] (/System/Library/Frameworks/AppKit.framework/Versions/C/AppKit+0x3cd7f)
#52 0x116d4a820 in nsAppShell::Run() (/srv/repos/mozilla/mozilla-inbound/obj-ff64-asan-opt-nodebug/dist/Nightly.app/Contents/MacOS/XUL+0x3a9b820)
#53 0x117d3d484 in nsAppStartup::Run() (/srv/repos/mozilla/mozilla-inbound/obj-ff64-asan-opt-nodebug/dist/Nightly.app/Contents/MacOS/XUL+0x4a8e484)
#54 0x117df295b in XREMain::XRE_mainRun() (/srv/repos/mozilla/mozilla-inbound/obj-ff64-asan-opt-nodebug/dist/Nightly.app/Contents/MacOS/XUL+0x4b4395b)
#55 0x117df3809 in XREMain::XRE_main(int, char**, nsXREAppData const*) (/srv/repos/mozilla/mozilla-inbound/obj-ff64-asan-opt-nodebug/dist/Nightly.app/Contents/MacOS/XUL+0x4b44809)
#56 0x117df3d89 in XRE_main (/srv/repos/mozilla/mozilla-inbound/obj-ff64-asan-opt-nodebug/dist/Nightly.app/Contents/MacOS/XUL+0x4b44d89)
#57 0x10f3d0671 in do_main(int, char**, char**, nsIFile*) (/srv/repos/mozilla/mozilla-inbound/obj-ff64-asan-opt-nodebug/dist/Nightly.app/Contents/MacOS/firefox+0x100001671)
#58 0x10f3cfd93 in main (/srv/repos/mozilla/mozilla-inbound/obj-ff64-asan-opt-nodebug/dist/Nightly.app/Contents/MacOS/firefox+0x100000d93)
#59 0x10f3cfcf3 in start (/srv/repos/mozilla/mozilla-inbound/obj-ff64-asan-opt-nodebug/dist/Nightly.app/Contents/MacOS/firefox+0x100000cf3)
#60 0x9  (<unknown module>)

0x6030000cdfe0 is located 32 bytes inside of 32-byte region [0x6030000cdfc0,0x6030000cdfe0)
allocated by thread T0 here:
#0 0x10f473d97 in wrap_realloc (/srv/repos/llvm/r253176/build/lib/clang/3.8.0/lib/darwin/libclang_rt.asan_osx_dynamic.dylib+0x49d97)
#1 0x10f3e5bed in moz_xrealloc (/srv/repos/mozilla/mozilla-inbound/obj-ff64-asan-opt-nodebug/dist/Nightly.app/Contents/MacOS/libmozglue.dylib+0x1bed)
#2 0x1132d91d3 in nsTArrayInfallibleAllocator::ResultTypeProxy nsTArray_base<nsTArrayInfallibleAllocator, nsTArray_CopyWithMemutils>::EnsureCapacity<nsTArrayInfallibleAllocator>(unsigned long, unsigned long) (/srv/repos/mozilla/mozilla-inbound/obj-ff64-asan-opt-nodebug/dist/Nightly.app/Contents/MacOS/XUL+0x2a1d3)
#3 0x116580085 in RefPtr<mozilla::dom::AudioNode>* nsTArray_Impl<RefPtr<mozilla::dom::AudioNode>, nsTArrayInfallibleAllocator>::AppendElement<mozilla::dom::AudioNode*, nsTArrayInfallibleAllocator>(mozilla::dom::AudioNode*&&) (/srv/repos/mozilla/mozilla-inbound/obj-ff64-asan-opt-nodebug/dist/Nightly.app/Contents/MacOS/XUL+0x32d1085)
#4 0x11657fda5 in mozilla::dom::AudioNode::Connect(mozilla::dom::AudioNode&, unsigned int, unsigned int, mozilla::ErrorResult&) (/srv/repos/mozilla/mozilla-inbound/obj-ff64-asan-opt-nodebug/dist/Nightly.app/Contents/MacOS/XUL+0x32d0da5)
#5 0x114fd3512 in mozilla::dom::AudioNodeBinding::connect(JSContext*, JS::Handle<JSObject*>, mozilla::dom::AudioNode*, JSJitMethodCallArgs const&) (/srv/repos/mozilla/mozilla-inbound/obj-ff64-asan-opt-nodebug/dist/Nightly.app/Contents/MacOS/XUL+0x1d24512)
#6 0x115e37300 in mozilla::dom::GenericBindingMethod(JSContext*, unsigned int, JS::Value*) (/srv/repos/mozilla/mozilla-inbound/obj-ff64-asan-opt-nodebug/dist/Nightly.app/Contents/MacOS/XUL+0x2b88300)
#7 0x1193fb67e in js::InternalCallOrConstruct(JSContext*, JS::CallArgs const&, js::MaybeConstruct) (/srv/repos/mozilla/mozilla-inbound/obj-ff64-asan-opt-nodebug/dist/Nightly.app/Contents/MacOS/XUL+0x614c67e)
#8 0x1193ecd83 in Interpret(JSContext*, js::RunState&) (/srv/repos/mozilla/mozilla-inbound/obj-ff64-asan-opt-nodebug/dist/Nightly.app/Contents/MacOS/XUL+0x613dd83)
#9 0x1193e0abc in js::RunScript(JSContext*, js::RunState&) (/srv/repos/mozilla/mozilla-inbound/obj-ff64-asan-opt-nodebug/dist/Nightly.app/Contents/MacOS/XUL+0x6131abc)
#10 0x1193fc799 in js::ExecuteKernel(JSContext*, JS::Handle<JSScript*>, JSObject&, JS::Value const&, js::AbstractFramePtr, JS::Value*) (/srv/repos/mozilla/mozilla-inbound/obj-ff64-asan-opt-nodebug/dist/Nightly.app/Contents/MacOS/XUL+0x614d799)
#11 0x1192e3f38 in EvalKernel(JSContext*, JS::Handle<JS::Value>, EvalType, js::AbstractFramePtr, JS::Handle<JSObject*>, unsigned char*, JS::MutableHandle<JS::Value>) (/srv/repos/mozilla/mozilla-inbound/obj-ff64-asan-opt-nodebug/dist/Nightly.app/Contents/MacOS/XUL+0x6034f38)
#12 0x1192e4417 in js::DirectEval(JSContext*, JS::Handle<JS::Value>, JS::MutableHandle<JS::Value>) (/srv/repos/mozilla/mozilla-inbound/obj-ff64-asan-opt-nodebug/dist/Nightly.app/Contents/MacOS/XUL+0x6035417)
#13 0x118e0a712 in js::jit::DoCallFallback(JSContext*, js::jit::BaselineFrame*, js::jit::ICCall_Fallback*, unsigned int, JS::Value*, JS::MutableHandle<JS::Value>) (/srv/repos/mozilla/mozilla-inbound/obj-ff64-asan-opt-nodebug/dist/Nightly.app/Contents/MacOS/XUL+0x5b5b712)
#14 0x12ab3d745  (<unknown module>)
#15 0x621000d30aff  (<unknown module>)
#16 0x1c3bea353  (<unknown module>)
#17 0x6210004ea647  (<unknown module>)
#18 0x12ab36887  (<unknown module>)
#19 0x118e4f70a in EnterBaseline(JSContext*, js::jit::EnterJitData&) (/srv/repos/mozilla/mozilla-inbound/obj-ff64-asan-opt-nodebug/dist/Nightly.app/Contents/MacOS/XUL+0x5ba070a)
#20 0x118e4fe96 in js::jit::EnterBaselineAtBranch(JSContext*, js::InterpreterFrame*, unsigned char*) (/srv/repos/mozilla/mozilla-inbound/obj-ff64-asan-opt-nodebug/dist/Nightly.app/Contents/MacOS/XUL+0x5ba0e96)
#21 0x1193f68ce in Interpret(JSContext*, js::RunState&) (/srv/repos/mozilla/mozilla-inbound/obj-ff64-asan-opt-nodebug/dist/Nightly.app/Contents/MacOS/XUL+0x61478ce)
#22 0x1193e0abc in js::RunScript(JSContext*, js::RunState&) (/srv/repos/mozilla/mozilla-inbound/obj-ff64-asan-opt-nodebug/dist/Nightly.app/Contents/MacOS/XUL+0x6131abc)
#23 0x1193fb704 in js::InternalCallOrConstruct(JSContext*, JS::CallArgs const&, js::MaybeConstruct) (/srv/repos/mozilla/mozilla-inbound/obj-ff64-asan-opt-nodebug/dist/Nightly.app/Contents/MacOS/XUL+0x614c704)
#24 0x1193d131d in js::Call(JSContext*, JS::Handle<JS::Value>, JS::Handle<JS::Value>, js::AnyInvokeArgs const&, JS::MutableHandle<JS::Value>) (/srv/repos/mozilla/mozilla-inbound/obj-ff64-asan-opt-nodebug/dist/Nightly.app/Contents/MacOS/XUL+0x612231d)
#25 0x119178f64 in JS::Call(JSContext*, JS::Handle<JS::Value>, JS::Handle<JS::Value>, JS::HandleValueArray const&, JS::MutableHandle<JS::Value>) (/srv/repos/mozilla/mozilla-inbound/obj-ff64-asan-opt-nodebug/dist/Nightly.app/Contents/MacOS/XUL+0x5ec9f64)
#26 0x115bbbbe6 in mozilla::dom::EventListener::HandleEvent(JSContext*, JS::Handle<JS::Value>, mozilla::dom::Event&, mozilla::ErrorResult&) (/srv/repos/mozilla/mozilla-inbound/obj-ff64-asan-opt-nodebug/dist/Nightly.app/Contents/MacOS/XUL+0x290cbe6)
#27 0x11605a0da in void mozilla::dom::EventListener::HandleEvent<mozilla::dom::EventTarget*>(mozilla::dom::EventTarget* const&, mozilla::dom::Event&, mozilla::ErrorResult&, char const*, mozilla::dom::CallbackObject::ExceptionHandling, JSCompartment*) (/srv/repos/mozilla/mozilla-inbound/obj-ff64-asan-opt-nodebug/dist/Nightly.app/Contents/MacOS/XUL+0x2dab0da)
#28 0x116059d8d in mozilla::EventListenerManager::HandleEventSubType(mozilla::EventListenerManager::Listener*, nsIDOMEvent*, mozilla::dom::EventTarget*) (/srv/repos/mozilla/mozilla-inbound/obj-ff64-asan-opt-nodebug/dist/Nightly.app/Contents/MacOS/XUL+0x2daad8d)
#29 0x11605ac40 in mozilla::EventListenerManager::HandleEventInternal(nsPresContext*, mozilla::WidgetEvent*, nsIDOMEvent**, mozilla::dom::EventTarget*, nsEventStatus*) (/srv/repos/mozilla/mozilla-inbound/obj-ff64-asan-opt-nodebug/dist/Nightly.app/Contents/MacOS/XUL+0x2dabc40)

SUMMARY: AddressSanitizer: negative-size-param (/srv/repos/llvm/r253176/build/lib/clang/3.8.0/lib/darwin/libclang_rt.asan_osx_dynamic.dylib+0x4098b) in __asan_memmove
==11104==ABORTING