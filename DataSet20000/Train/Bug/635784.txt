When clicking links firefox tries to open them in a new window.
User-Agent:       Mozilla/5.0 (Windows NT 6.1; WOW64; rv:2.0b11) Gecko/20100101 Firefox/4.0b11
Build Identifier: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:2.0b11) Gecko/20100101 Firefox/4.0b11

When I click a link in an outside program (steam, messenger, word, excel, etc.) firefox tries to open the page in a new window.  I have "Open new windows in a new tab instead" checked and have verified that all settings remain correct after closing and re-opening firefox.

If I do not have firefox open and click a link, firefox opens as normal.  At this point I can click a link and the link opens in a new tab fine.  But not if I manually launched firefox to start browsing.

Reproducible: Always

Steps to Reproduce:
1. Open Firefox
2. Click link from outside application.
3. Do not profit!
Actual Results:  
Firefox tries to open the link in a new window, instead of a new tab.  

Expected Results:  
Opened the link in a new tab.

I use multiple profiles, 3 to be exact.  One is mine, one is my wives and the other is an unused profile that we set up for later use by our daughter.  When clicking links the profile selection screen comes up, and when I click my profile it will not open the new window because my profile is already in use.  I have tried this same issue on firefox 3.6.13 and the links open in a new tab as expected.