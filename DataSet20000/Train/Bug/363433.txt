Window not opened
User-Agent:       Mozilla/5.0 (Windows; U; Windows NT 5.0; it; rv:1.8.1) Gecko/20061010 Firefox/2.0
Build Identifier: Mozilla/5.0 (Windows; U; Windows NT 5.0; it; rv:1.8.1) Gecko/20061010 Firefox/2.0

Using code I post Firefox2 open only the first window, not the window generated by the child one. (Previous version and IE all version open it). It seems a Javascript problem.

Reproducible: Always

Steps to Reproduce:
1. Create this html file:
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">

<html>
<head>
<script type='text/javascript' src='winbase.js'>
</script>
<title>Untitled</title>
</head>
<body>
Main window
<button onclick="printDich()">Click here</button>
</body>
</html>

And this JScript file (winbase.js):
function printDich() {
var dich="<!DOCTYPE HTML PUBLIC \"-//W3C//DTD HTML 4.01 Transitional//EN\"><html><head><script type='text/javascript' src='winbase.js'></script><title>Untitled</title></head><body>Hi all. Open a new window<button onclick=\"printDich()\">Click here</button></body></html>";
var ua = navigator.userAgent.toLowerCase();
if (ua.indexOf('mozilla/4.0') != -1){
 windowPrn = window.open()
 windowPrn.document.open("Anteprima")
 windowPrn.document.writeln(dich)
 windowPrn.document.close()
}
if (ua.indexOf('mozilla/5.0') != -1){
 windowPrn = window.open("","Anteprima")
 windowPrn.document.writeln(dich)
 windowPrn.document.close()
}
}

2. When you run the first one and click on the button, a wndow appear
3. Click on the button on the new window

Actual Results:  
The click over the second window is not executed (no new window appears)

Expected Results:  
Another window must appear

No script error is given in the Console.
Previous release goes well. It could be a regression bug.
This bug is even with Firefox 2.0.01.