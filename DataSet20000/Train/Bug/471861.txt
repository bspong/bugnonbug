Frames generated by javascript-URLS within a local document are not showing up when opening Firefox/re-opening closed tab (sessionStore)
User-Agent:       Mozilla/5.0 (Windows; U; Windows NT 5.1; nl; rv:1.9.0.5) Gecko/2008120122 Firefox/3.0.5
Build Identifier: Mozilla/5.0 (Windows; U; Windows NT 5.1; nl; rv:1.9.0.5) Gecko/2008120122 Firefox/3.0.5

When re-opening a closed tab (or starting firefox) I get the following message for each frame, generated by Javascript (in the Error Console):
SessionStore: [Exception... "Component returned failure code: 0x8007000e (NS_ERROR_OUT_OF_MEMORY) [nsIObjectInputStream.readObject]"  nsresult: "0x8007000e (NS_ERROR_OUT_OF_MEMORY)"  location: "JS frame :: file:///C:/Program%20Files/Mozilla%20Firefox/components/nsSessionStore.js :: sss_deserializeHistoryEntry :: line 1671"  data: no]
The excepted pages are not showing up.

HTML source:
<?xml version="1.0"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Frameset//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitonal.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>title</title>
</head>
<frameset rows="20,200,*">
<frame src="javascript:document.write('some HTML');document.close();" name="nav"/>
<frameset cols="*,50%" id="wframes">
 <frame src="javascript:document.write('<a href=&quot;page.html&quot;>caption</a>');document.close();" name="main"/>
 <frame src="javascript:document.write('<a href=&quot;page2.html&quot;>caption</a>');document.close();" name="main2"/>
</frameset>
<frame src="about:blank" name="other"/>
</frameset>
</html>


Reproducible: Always

Steps to Reproduce:
1.Open a HTML document with frames (for an example, see details)
2a.Close it, and re-open it by CTRL+SHIFT+T or History>Recent closed tabs>[nam of the html document]
2b.Restart firefox.

Actual Results:  
Empty frames are showing up, and the error console logs an error (notice from SessionStore)

Expected Results:  
The frames generated by Javascript should show up.