Firefox 3 caches pages with Cache-Control: no-cache,no-store
User-Agent:       Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.9.0.1) Gecko/2008070208 Firefox/3.0.1
Build Identifier: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.9.0.1) Gecko/2008070208 Firefox/3.0.1

I have pages 100% generated by the server, containing the following HTTP header:

Cache-Control: no-cache,no-store

According to RFC 2616, as well as http://developer.mozilla.org/en/docs/Using_Firefox_1.5_caching , this should be sufficient to prevent caching. It was sufficient to prevent caching on earlier versions of Firefox.

Yet when I use JavaScript to change the location to another page using window.location.href=newPage.html , and then I come back to firstPage.html using the browser back button, Firefox 3 does *not* issue a new HTTP GET and instead uses a cached version of the page firstPage.html.

This is flatly wrong.

This is new erroneous behavior.

Reproducible: Always

Steps to Reproduce:
1.
2.
3.