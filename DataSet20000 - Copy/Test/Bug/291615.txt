Firefox can't print using non-GhostScript fonts
User-Agent:       Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.7.7) Gecko/20050423 Firefox/1.0.3
Build Identifier: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.7.7) Gecko/20050423 Firefox/1.0.3

I've noticed a strange behavior of Firefox when it comes to printing: I have a
simple HTML page (attached to the bug), using a Type1 font called Caligula
(installed in /usr/share/fonts/freefont).

When I view the page in Firefox, it looks correct (meaning the Caligula font is
used); when I ask for a print preview, it's still correct; but if I ask to
actually print the page, then Firefox uses some plain NimbusRomNo9L font
provided with GhostScript.


Reproducible: Always

Steps to Reproduce:
1. Download the example HTML file attached to the bug,
2. If you do not have Caligula font installed, choose an other font *not* among
GhostScript fonts, and change the HTML file accordingly,
3. Configure GhostScript so that it will know about other fonts on your system:
3a.   Edit /usr/share/ghostscript/7.07/lib/Fontmap file
3b.   Append the line: 
          (Fontmap.custom) .runlibfile
3c.   Create in the same directory the file Fontmap.custom
3d.   Put this single line in it (using tabs, dunno if important, though): 
          /Caligula       (calig___.pfb)  ;
4. View the file in Firefox, Print-preview it: everything is fine,
5. Print it to the a file: mozilla.ps,
6. View the file with GhostScript (replace dir by the one where the font you
chose in step 2 is):
      gs -sDEVICE=x11alpha -I/usr/share/fonts/freefont mozilla.ps
Actual Results:  
GhostScript displays the file, using NimbusRomNo9L (in my case). 

Expected Results:  
GhostScript should display the file using the Caligula font.
The problem does *not* come from GhostScript: 
  - from what I can see, the PS generated by Firefox only uses Courier font
(mapped to NimbusRom9L by GS)
  - I wrote a little PostScript program where I explicitly ask for the Caligula
font (attached to the bug). Viewing this with Ghostscript (see step 6) gives the
expected result, so the problem does not lie there.

To summarize:
1. if the PS is correct, Ghostscript can use the desired font,
2. GhostScript does not use Caligula font when loading a PS file generated by
Firefox,
3. conclusion: it seems that Firefox PS is simply broken.