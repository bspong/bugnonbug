When closing another window as last then tabs in another window are lost although preffered to keep them
User-Agent:       Mozilla/5.0 (Windows; U; Windows NT 5.1; pl; rv:1.9.0.12) Gecko/2009070611 Firefox/3.0.12 (.NET CLR 3.5.30729)
Build Identifier: Mozilla/5.0 (Windows; U; Windows NT 5.1; pl; rv:1.9.0.12) Gecko/2009070611 Firefox/3.0.12 (.NET CLR 3.5.30729)

This is an annoying behaviour actually, not a bug itself.
Several times I noticed that when in my browser I have many tabs ('collected' for many weeks, not closed for some reason, it's my choice to keep them opened and get back to them lateron; let's call them Favourite tabs) and some web page opens another window (with add, chart, picture or any other content) which not necessary has typical browser dimensions so I can miss it or forget as it is not anything important for me, then when I first close my main firefox window and being in rush I close second window then on next running I will not have my favourite tabs restored, because firefox sticks to last window closed! I can not preserve tabs per window when at least 2 windows are opened, only last one have this ability.
To have option 'Ask on exit when closing browser with many tabs opened' is annoying and even with it set to ON user may get used to it and always click Yes without thinking about it (ignoring it). I turned this popup off and enabled 'Restore tabs from last session', but this set-up does not work for me in scenario as described above.
I'd like to have a choice to keep tabs remembered per window or joined together or at least being warned when closing another window which set new set of tabs to restore on next start. There is no ability to get my tabs re-opend with Undo Close Tab which i closed in above circumstances.

Reproducible: Always

Steps to Reproduce:
1.Open window with many tabs. Imagine you want them opend on every day for next few weeks or months ...
2.Open another window with or without any tabs.
3.Now close in reverse order i.e. first close 1st window (with your important tabs collected for weeks or months).
4. Close 2nd window- that one with content not imported for you.
5. Start firefox again- your favourite tabs are not being restored because last window which was closed was not that one with your favourite tabs. These tabs are not on the list of 'Recently closed tabs'


Expected Results:  
Any mechanism to protect me from losting/ to remember opened tabs in such stupid way i.e. when working with several windows (yes it is my fault- It had happened always when I was in rush, but I really don't like it).