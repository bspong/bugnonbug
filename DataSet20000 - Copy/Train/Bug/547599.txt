Port the comm-central "make package-compare"
Created attachment 428093
Fix v.1

It's not very pretty, since it still doesn't know to expand directories or wildcards, and it still doesn't know about files that you know you don't want to package (particularly ugly for Fx, where pretty much every build has tests enabled and thus builds a ton of files you don't want to package, many of them poorly named), but for all that, I know that Thunderbird and SeaMonkey are trying to package contentprefs.xpt when it isn't there anymore and you don't (though you probably could from "possible missing or unnecessary"), and they are packaging widget_cocoa.xpt because they know it's there, and you don't.

The two biggest benefits are when it's added as a build step on tryserver (I review patches to package-manifest.in and patches that add or remove files by pushing them to the MoMo tryserver and looking at the package-compare step on all three platforms), and when someone finally gets around to teaching it to ignore things listed in no-package-manifest.in, so it can turn the tree orange when someone does anything to add or remove a file without saying what they want done with it, but even just having it exist, so I don't have to remember to copy-modify-paste the commands out of mail/installer/Makefile.in when I want to see what's going wrong in Firefox packaging, is worth having, and also might get someone to work on improving it.