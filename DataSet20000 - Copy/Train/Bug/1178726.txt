WorkerDebugger should be unregistered when worker is frozen.
Currently, the worker debugger API provides a way to check whether a worker is frozen or not, and to detect when it freezes/thaws.

The reason we have this API is that we use the window that owns the worker to determine what page it belongs to. When a page that owns a worker is moved into the bfcache, the worker is frozen, but its window is still the same as the new page that is loaded in the tab. Consequently, we need to remove workers from the list of workers for a given page when they are frozen, and re-add them when they are thawed.

This solution was slightly buggy to begin with, as workers are also frozen when the main thread suspends worker events to create the illusion that it is blocked. Bug 1178721 will fix that problem by only queueing the events generated by workers on the main thread, without actually freezing them.

Once bug 1178721 lands, the only time a worker will be frozen is when the page that owns them is moved to the bfcache. Whenever that happens, the worker needs to be removed from the list of debuggable workers, and re-added when it is thawed.

This made me realise that we don't actually need a separate API for this: we can simply unregister and close the worker debugger for a given worker when it is frozen, and register a new worker debugger when it is thawed. The result is a significant simplification of the worker debugger API.