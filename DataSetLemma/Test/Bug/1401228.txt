Intermittent Assertion failure: [GFX1]: Failed to create DrawTarget, Type: 3 Size: Size(800,1000), at z:\build\build\src\obj-firefox\dist\include\mozilla/gfx/Logging.h:520
+++ This bug wa initially created a a clone of Bug #1373578 +++

https://treeherder.mozilla.org/logviewer.html#?job_id=131990889&repo=autoland

14:58:29 INFO - REFTEST TEST-LOAD | file:///Z:/task_1505829257/build/tests/reftest/tests/layout/reftests/transform-3d/preserve3d-3-ref.html | 89 / 492 (18%)
14:58:29 INFO - ++DOMWINDOW == 297 (1A0FA400) [pid = 1292] [serial = 306] [outer = 17156400]
14:58:29 INFO - [GFX1]: Failed to create DrawTarget, Type: 3 Size: Size(800,1000)
14:58:29 INFO - Assertion failure: [GFX1]: Failed to create DrawTarget, Type: 3 Size: Size(800,1000), at z:\build\build\src\obj-firefox\dist\include\mozilla/gfx/Logging.h:520
14:58:47 INFO - #01: mozilla::gfx::Log<1,mozilla::gfx::CriticalLogger>::WriteLog(std::basic_string<char,std::char_traits<char>,std::allocator<char> > const &) [gfx/2d/Logging.h:521]
14:58:47 INFO - #02: mozilla::gfx::Log<1,mozilla::gfx::CriticalLogger>::Flush() [gfx/2d/Logging.h:284]
14:58:47 INFO - #03: mozilla::gfx::Factory::CreateDrawTarget(mozilla::gfx::BackendType,mozilla::gfx::IntSizeTyped<mozilla::gfx::UnknownUnits> const &,mozilla::gfx::SurfaceFormat) [gfx/2d/Factory.cpp:404]
14:58:47 INFO - #04: gfxPlatform::CreateDrawTargetForBackend(mozilla::gfx::BackendType,mozilla::gfx::IntSizeTyped<mozilla::gfx::UnknownUnits> const &,mozilla::gfx::SurfaceFormat) [gfx/thebes/gfxPlatform.cpp:1521]
14:58:47 INFO - #05: mozilla::layers::PersistentBufferProviderBasic::Create(mozilla::gfx::IntSizeTyped<mozilla::gfx::UnknownUnits>,mozilla::gfx::SurfaceFormat,mozilla::gfx::BackendType) [gfx/layers/PersistentBufferProvider.cpp:73]
14:58:47 INFO - #06: mozilla::layers::LayerManager::CreatePersistentBufferProvider(mozilla::gfx::IntSizeTyped<mozilla::gfx::UnknownUnits> const &,mozilla::gfx::SurfaceFormat) [gfx/layers/Layers.cpp:148]
14:58:47 INFO - #07: mozilla::layers::ClientLayerManager::CreatePersistentBufferProvider(mozilla::gfx::IntSizeTyped<mozilla::gfx::UnknownUnits> const &,mozilla::gfx::SurfaceFormat) [gfx/layers/client/ClientLayerManager.cpp:959]
14:58:47 INFO - #08: mozilla::dom::CanvasRenderingContext2D::TrySharedTarget(RefPtr<mozilla::gfx::DrawTarget> &,RefPtr<mozilla::layers::PersistentBufferProvider> &) [dom/canvas/CanvasRenderingContext2D.cpp:1883]
14:58:47 INFO - #09: mozilla::dom::CanvasRenderingContext2D::EnsureTarget(mozilla::gfx::RectTyped<mozilla::gfx::UnknownUnits,float> const *,mozilla::dom::CanvasRenderingContext2D::RenderingMode) [dom/canvas/CanvasRenderingContext2D.cpp:1694]
14:58:47 INFO - #10: mozilla::dom::CanvasRenderingContext2D::DrawWindow(nsGlobalWindow &,double,double,double,double,nsTSubstring<char16_t> const &,unsigned int,mozilla::ErrorResult &) [dom/canvas/CanvasRenderingContext2D.cpp:5504]
14:58:47 INFO - #11: mozilla::dom::CanvasRenderingContext2DBinding::drawWindow [s3:gecko-generated-sources:22ea5bebb16672b438272778152a6236f7fed03454689b84fb52b100f2bb278f870a777c404eeacfa40e547a6463146ceda6e324e9a1381c0ecf26ea92758adb/dom/bindings/CanvasRenderingContext2DBinding.cpp::2405]
14:58:47 INFO - #12: mozilla::dom::GenericBindingMethod(JSContext *,unsigned int,JS::Value *) [dom/bindings/BindingUtils.cpp:3055]
14:58:47 INFO - #13: js::CallJSNative(JSContext *,bool (*)(JSContext *,unsigned int,JS::Value *),JS::CallArgs const &) [js/src/jscntxtinlines.h:293]
14:58:47 INFO - #14: js::InternalCallOrConstruct(JSContext *,JS::CallArgs const &,js::MaybeConstruct) [js/src/vm/Interpreter.cpp:495]
14:58:47 INFO - #15: InternalCall [js/src/vm/Interpreter.cpp:540]
14:58:47 INFO - #16: js::Call(JSContext *,JS::Handle<JS::Value>,JS::Handle<JS::Value>,js::AnyInvokeArgs const &,JS::MutableHandle<JS::Value>) [js/src/vm/Interpreter.cpp:559]
14:58:47 INFO - #17: js::ForwardingProxyHandler::call(JSContext *,JS::Handle<JSObject *>,JS::CallArgs const &) [js/src/proxy/Wrapper.cpp:175]
14:58:47 INFO - #18: js::CrossCompartmentWrapper::call(JSContext *,JS::Handle<JSObject *>,JS::CallArgs const &) [js/src/proxy/CrossCompartmentWrapper.cpp:359]
14:58:47 INFO - #19: xpc::AddonWrapper<js::CrossCompartmentWrapper>::call(JSContext *,JS::Handle<JSObject *>,JS::CallArgs const &) [js/xpconnect/wrappers/AddonWrapper.cpp:155]
14:58:47 INFO - #20: js::Proxy::call(JSContext *,JS::Handle<JSObject *>,JS::CallArgs const &) [js/src/proxy/Proxy.cpp:497]
14:58:47 INFO - #21: js::proxy_Call(JSContext *,unsigned int,JS::Value *) [js/src/proxy/Proxy.cpp:757]
14:58:47 INFO - #22: js::CallJSNative(JSContext *,bool (*)(JSContext *,unsigned int,JS::Value *),JS::CallArgs const &) [js/src/jscntxtinlines.h:293]
14:58:47 INFO - #23: js::InternalCallOrConstruct(JSContext *,JS::CallArgs const &,js::MaybeConstruct) [js/src/vm/Interpreter.cpp:477]
14:58:47 INFO - #24: InternalCall [js/src/vm/Interpreter.cpp:540]
14:58:47 INFO - #25: Interpret [js/src/vm/Interpreter.cpp:3084]
14:58:47 INFO - #26: js::RunScript(JSContext *,js::RunState &) [js/src/vm/Interpreter.cpp:435]
14:58:47 INFO - #27: js::InternalCallOrConstruct(JSContext *,JS::CallArgs const &,js::MaybeConstruct) [js/src/vm/Interpreter.cpp:513]
14:58:47 INFO - #28: InternalCall [js/src/vm/Interpreter.cpp:540]
14:58:47 INFO - #29: js::Call(JSContext *,JS::Handle<JS::Value>,JS::Handle<JS::Value>,js::AnyInvokeArgs const &,JS::MutableHandle<JS::Value>) [js/src/vm/Interpreter.cpp:559]
14:58:47 INFO - #30: JS::Call(JSContext *,JS::Handle<JS::Value>,JS::Handle<JS::Value>,JS::HandleValueArray const &,JS::MutableHandle<JS::Value>) [js/src/jsapi.cpp:2965]
14:58:47 INFO - #31: xpc::SandboxCallableProxyHandler::call(JSContext *,JS::Handle<JSObject *>,JS::CallArgs const &) [js/xpconnect/src/Sandbox.cpp:698]
14:58:47 INFO - #32: js::Proxy::call(JSContext *,JS::Handle<JSObject *>,JS::CallArgs const &) [js/src/proxy/Proxy.cpp:497]
14:58:47 INFO - #33: js::proxy_Call(JSContext *,unsigned int,JS::Value *) [js/src/proxy/Proxy.cpp:757]
14:58:47 INFO - #34: js::CallJSNative(JSContext *,bool (*)(JSContext *,unsigned int,JS::Value *),JS::CallArgs const &) [js/src/jscntxtinlines.h:293]
14:58:47 INFO - #35: js::InternalCallOrConstruct(JSContext *,JS::CallArgs const &,js::MaybeConstruct) [js/src/vm/Interpreter.cpp:477]
14:58:47 INFO - #36: InternalCall [js/src/vm/Interpreter.cpp:540]
14:58:47 INFO - #37: Interpret [js/src/vm/Interpreter.cpp:3084]
14:58:47 INFO - #38: js::RunScript(JSContext *,js::RunState &) [js/src/vm/Interpreter.cpp:435]
14:58:47 INFO - #39: js::InternalCallOrConstruct(JSContext *,JS::CallArgs const &,js::MaybeConstruct) [js/src/vm/Interpreter.cpp:513]
14:58:47 INFO - #40: InternalCall [js/src/vm/Interpreter.cpp:540]
14:58:47 INFO - #41: js::Call(JSContext *,JS::Handle<JS::Value>,JS::Handle<JS::Value>,js::AnyInvokeArgs const &,JS::MutableHandle<JS::Value>) [js/src/vm/Interpreter.cpp:559]
14:58:47 INFO - #42: JS::Call(JSContext *,JS::Handle<JS::Value>,JS::Handle<JS::Value>,JS::HandleValueArray const &,JS::MutableHandle<JS::Value>) [js/src/jsapi.cpp:2965]
14:58:47 INFO - #43: xpc::SandboxCallableProxyHandler::call(JSContext *,JS::Handle<JSObject *>,JS::CallArgs const &) [js/xpconnect/src/Sandbox.cpp:698]
14:58:47 INFO - #44: js::Proxy::call(JSContext *,JS::Handle<JSObject *>,JS::CallArgs const &) [js/src/proxy/Proxy.cpp:497]
14:58:47 INFO - #45: js::proxy_Call(JSContext *,unsigned int,JS::Value *) [js/src/proxy/Proxy.cpp:757]
14:58:47 INFO - #46: js::CallJSNative(JSContext *,bool (*)(JSContext *,unsigned int,JS::Value *),JS::CallArgs const &) [js/src/jscntxtinlines.h:293]
14:58:47 INFO - #47: js::InternalCallOrConstruct(JSContext *,JS::CallArgs const &,js::MaybeConstruct) [js/src/vm/Interpreter.cpp:477]
14:58:47 INFO - #48: InternalCall [js/src/vm/Interpreter.cpp:540]
14:58:47 INFO - #49: Interpret [js/src/vm/Interpreter.cpp:3084]
14:58:47 INFO - #50: js::RunScript(JSContext *,js::RunState &) [js/src/vm/Interpreter.cpp:435]
14:58:47 INFO - #51: js::InternalCallOrConstruct(JSContext *,JS::CallArgs const &,js::MaybeConstruct) [js/src/vm/Interpreter.cpp:513]
14:58:47 INFO - #52: InternalCall [js/src/vm/Interpreter.cpp:540]
14:58:47 INFO - #53: js::Call(JSContext *,JS::Handle<JS::Value>,JS::Handle<JS::Value>,js::AnyInvokeArgs const &,JS::MutableHandle<JS::Value>) [js/src/vm/Interpreter.cpp:559]
14:58:47 INFO - #54: JS::Call(JSContext *,JS::Handle<JS::Value>,JS::Handle<JS::Value>,JS::HandleValueArray const &,JS::MutableHandle<JS::Value>) [js/src/jsapi.cpp:2965]
14:58:47 INFO - #55: xpc::SandboxCallableProxyHandler::call(JSContext *,JS::Handle<JSObject *>,JS::CallArgs const &) [js/xpconnect/src/Sandbox.cpp:698]
14:58:47 INFO - #56: js::Proxy::call(JSContext *,JS::Handle<JSObject *>,JS::CallArgs const &) [js/src/proxy/Proxy.cpp:497]
14:58:47 INFO - #57: js::proxy_Call(JSContext *,unsigned int,JS::Value *) [js/src/proxy/Proxy.cpp:757]
14:58:47 INFO - #58: js::CallJSNative(JSContext *,bool (*)(JSContext *,unsigned int,JS::Value *),JS::CallArgs const &) [js/src/jscntxtinlines.h:293]
14:58:47 INFO - #59: js::InternalCallOrConstruct(JSContext *,JS::CallArgs const &,js::MaybeConstruct) [js/src/vm/Interpreter.cpp:477]
14:58:47 INFO - #60: InternalCall [js/src/vm/Interpreter.cpp:540]
14:58:47 INFO - #61: Interpret [js/src/vm/Interpreter.cpp:3084]
14:58:47 INFO - #62: js::RunScript(JSContext *,js::RunState &) [js/src/vm/Interpreter.cpp:435]
14:58:47 INFO - #63: js::InternalCallOrConstruct(JSContext *,JS::CallArgs const &,js::MaybeConstruct) [js/src/vm/Interpreter.cpp:513]
14:58:47 INFO - #64: InternalCall [js/src/vm/Interpreter.cpp:540]
14:58:47 INFO - #65: js::Call(JSContext *,JS::Handle<JS::Value>,JS::Handle<JS::Value>,js::AnyInvokeArgs const &,JS::MutableHandle<JS::Value>) [js/src/vm/Interpreter.cpp:559]
14:58:47 INFO - #66: JS_CallFunctionValue(JSContext *,JS::Handle<JSObject *>,JS::Handle<JS::Value>,JS::HandleValueArray const &,JS::MutableHandle<JS::Value>) [js/src/jsapi.cpp:2906]
14:58:47 INFO - #67: nsFrameMessageManager::ReceiveMessage(nsISupports *,nsIFrameLoader *,bool,nsTSubstring<char16_t> const &,bool,mozilla::dom::ipc::StructuredCloneData *,mozilla::jsipc::CpowHolder *,nsIPrincipal *,nsTArray<mozilla::dom::ipc::StructuredCloneData> *) [dom/base/nsFrameMessageManager.cpp:1100]
14:58:47 INFO - #68: nsFrameMessageManager::ReceiveMessage(nsISupports *,nsIFrameLoader *,nsTSubstring<char16_t> const &,bool,mozilla::dom::ipc::StructuredCloneData *,mozilla::jsipc::CpowHolder *,nsIPrincipal *,nsTArray<mozilla::dom::ipc::StructuredCloneData> *) [dom/base/nsFrameMessageManager.cpp:911]
14:58:47 INFO - #69: nsInProcessTabChildGlobal::DoSendBlockingMessage(JSContext *,nsTSubstring<char16_t> const &,mozilla::dom::ipc::StructuredCloneData &,JS::Handle<JSObject *>,nsIPrincipal *,nsTArray<mozilla::dom::ipc::StructuredCloneData> *,bool) [dom/base/nsInProcessTabChildGlobal.cpp:44]
14:58:47 INFO - #70: nsFrameMessageManager::SendMessage(nsTSubstring<char16_t> const &,JS::Handle<JS::Value>,JS::Handle<JS::Value>,nsIPrincipal *,JSContext *,unsigned char,JS::MutableHandle<JS::Value>,bool) [dom/base/nsFrameMessageManager.cpp:651]
14:58:47 INFO - #71: nsFrameMessageManager::SendSyncMessage(nsTSubstring<char16_t> const &,JS::Handle<JS::Value>,JS::Handle<JS::Value>,nsIPrincipal *,JSContext *,unsigned char,JS::MutableHandle<JS::Value>) [dom/base/nsFrameMessageManager.cpp:558]
14:58:47 INFO - #72: nsInProcessTabChildGlobal::SendSyncMessage(nsTSubstring<char16_t> const &,JS::Handle<JS::Value>,JS::Handle<JS::Value>,nsIPrincipal *,JSContext *,unsigned char,JS::MutableHandle<JS::Value>) [dom/base/nsInProcessTabChildGlobal.h:60]
14:58:47 INFO - #73: NS_InvokeByIndex
14:58:47 INFO - #74: CallMethodHelper::Invoke() [js/xpconnect/src/XPCWrappedNative.cpp:1996]
14:58:47 INFO - #75: XPCWrappedNative::CallMethod(XPCCallContext &,XPCWrappedNative::CallMode) [js/xpconnect/src/XPCWrappedNative.cpp:1282]
14:58:47 INFO - #76: XPC_WN_CallMethod(JSContext *,unsigned int,JS::Value *) [js/xpconnect/src/XPCWrappedNativeJSOps.cpp:928]
14:58:47 INFO - #77: ??? (???:???)
14:58:47 INFO - #78: ??? (???:???)
14:58:47 INFO - #79: ??? (???:???)
14:58:47 INFO - #80: ??? (???:???)
14:58:47 INFO - #81: ??? (???:???)
14:58:47 INFO - #82: EnterBaseline [js/src/jit/BaselineJIT.cpp:164]
14:58:47 INFO - #83: js::jit::EnterBaselineMethod(JSContext *,js::RunState &) [js/src/jit/BaselineJIT.cpp:200]
14:58:47 INFO - #84: js::RunScript(JSContext *,js::RunState &) [js/src/vm/Interpreter.cpp:425]
14:58:47 INFO - #85: js::InternalCallOrConstruct(JSContext *,JS::CallArgs const &,js::MaybeConstruct) [js/src/vm/Interpreter.cpp:513]
14:58:47 INFO - #86: InternalCall [js/src/vm/Interpreter.cpp:540]
14:58:47 INFO - #87: js::Call(JSContext *,JS::Handle<JS::Value>,JS::Handle<JS::Value>,js::AnyInvokeArgs const &,JS::MutableHandle<JS::Value>) [js/src/vm/Interpreter.cpp:559]
14:58:47 INFO - #88: js::fun_apply(JSContext *,unsigned int,JS::Value *) [js/src/jsfun.cpp:1302]
14:58:47 INFO - #89: js::CallJSNative(JSContext *,bool (*)(JSContext *,unsigned int,JS::Value *),JS::CallArgs const &) [js/src/jscntxtinlines.h:293]
14:58:47 INFO - #90: js::InternalCallOrConstruct(JSContext *,JS::CallArgs const &,js::MaybeConstruct) [js/src/vm/Interpreter.cpp:495]
14:58:47 INFO - #91: InternalCall [js/src/vm/Interpreter.cpp:540]
14:58:47 INFO - #92: js::Call(JSContext *,JS::Handle<JS::Value>,JS::Handle<JS::Value>,js::AnyInvokeArgs const &,JS::MutableHandle<JS::Value>) [js/src/vm/Interpreter.cpp:559]
14:58:47 INFO - #93: js::ForwardingProxyHandler::call(JSContext *,JS::Handle<JSObject *>,JS::CallArgs const &) [js/src/proxy/Wrapper.cpp:175]
14:58:47 INFO - #94: js::CrossCompartmentWrapper::call(JSContext *,JS::Handle<JSObject *>,JS::CallArgs const &) [js/src/proxy/CrossCompartmentWrapper.cpp:359]
14:58:47 INFO - #95: js::Proxy::call(JSContext *,JS::Handle<JSObject *>,JS::CallArgs const &) [js/src/proxy/Proxy.cpp:497]
14:58:47 INFO - #96: js::proxy_Call(JSContext *,unsigned int,JS::Value *) [js/src/proxy/Proxy.cpp:757]
14:58:47 INFO - #97: js::CallJSNative(JSContext *,bool (*)(JSContext *,unsigned int,JS::Value *),JS::CallArgs const &) [js/src/jscntxtinlines.h:293]
14:58:47 INFO - #98: js::InternalCallOrConstruct(JSContext *,JS::CallArgs const &,js::MaybeConstruct) [js/src/vm/Interpreter.cpp:477]
14:58:47 INFO - #99: InternalCall [js/src/vm/Interpreter.cpp:540]
14:58:47 INFO - #100: js::jit::DoCallFallback [js/src/jit/BaselineIC.cpp:2589]
14:58:47 INFO - #101: ??? (???:???)
14:58:47 INFO - #102: ??? (???:???)
14:58:47 INFO - #103: ??? (???:???)
14:58:47 INFO - #104: EnterBaseline [js/src/jit/BaselineJIT.cpp:164]
14:58:47 INFO - #105: js::jit::EnterBaselineMethod(JSContext *,js::RunState &) [js/src/jit/BaselineJIT.cpp:200]
14:58:47 INFO - #106: js::RunScript(JSContext *,js::RunState &) [js/src/vm/Interpreter.cpp:425]
14:58:47 INFO - #107: js::InternalCallOrConstruct(JSContext *,JS::CallArgs const &,js::MaybeConstruct) [js/src/vm/Interpreter.cpp:513]
14:58:47 INFO - #108: InternalCall [js/src/vm/Interpreter.cpp:540]
14:58:47 INFO - #109: js::Call(JSContext *,JS::Handle<JS::Value>,JS::Handle<JS::Value>,js::AnyInvokeArgs const &,JS::MutableHandle<JS::Value>) [js/src/vm/Interpreter.cpp:559]
14:58:47 INFO - #110: JS_CallFunctionValue(JSContext *,JS::Handle<JSObject *>,JS::Handle<JS::Value>,JS::HandleValueArray const &,JS::MutableHandle<JS::Value>) [js/src/jsapi.cpp:2906]
14:58:47 INFO - #111: nsXPCWrappedJSClass::CallMethod(nsXPCWrappedJS *,unsigned short,XPTMethodDescriptor const *,nsXPTCMiniVariant *) [js/xpconnect/src/XPCWrappedJSClass.cpp:1318]
14:58:47 INFO - #112: nsXPCWrappedJS::CallMethod(unsigned short,XPTMethodDescriptor const *,nsXPTCMiniVariant *) [js/xpconnect/src/XPCWrappedJS.cpp:615]
14:58:47 INFO - #113: PrepareAndDispatch [xpcom/reflect/xptcall/md/win32/xptcstubs.cpp:85]
14:58:47 INFO - #114: SharedStub [xpcom/reflect/xptcall/md/win32/xptcstubs.cpp:113]
14:58:47 INFO - #115: nsTimerImpl::Fire(int) [xpcom/threads/nsTimerImpl.cpp:527]
14:58:47 INFO - #116: nsTimerEvent::Run() [xpcom/threads/TimerThread.cpp:288]
14:58:47 INFO - #117: nsThread::ProcessNextEvent(bool,bool *) [xpcom/threads/nsThread.cpp:1040]
14:58:47 INFO - #118: NS_ProcessNextEvent(nsIThread *,bool) [xpcom/threads/nsThreadUtils.cpp:521]
14:58:47 INFO - #119: mozilla::ipc::MessagePump::Run(base::MessagePump::Delegate *) [ipc/glue/MessagePump.cpp:97]
14:58:47 INFO - #120: MessageLoop::RunInternal() [ipc/chromium/src/base/message_loop.cc:326]
14:58:47 INFO - #121: MessageLoop::RunHandler() [ipc/chromium/src/base/message_loop.cc:320]
14:58:47 INFO - #122: MessageLoop::Run() [ipc/chromium/src/base/message_loop.cc:300]
14:58:47 INFO - #123: nsBaseAppShell::Run() [widget/nsBaseAppShell.cpp:160]
14:58:47 INFO - #124: nsAppShell::Run() [widget/windows/nsAppShell.cpp:230]
14:58:47 INFO - #125: nsAppStartup::Run() [toolkit/components/startup/nsAppStartup.cpp:289]
14:58:47 INFO - #126: XREMain::XRE_mainRun() [toolkit/xre/nsAppRunner.cpp:4701]
14:58:47 INFO - #127: XREMain::XRE_main(int,char * * const,mozilla::BootstrapConfig const &) [toolkit/xre/nsAppRunner.cpp:4865]
14:58:47 INFO - #128: XRE_main(int,char * * const,mozilla::BootstrapConfig const &) [toolkit/xre/nsAppRunner.cpp:4960]
14:58:47 INFO - #129: mozilla::BootstrapImpl::XRE_main(int,char * * const,mozilla::BootstrapConfig const &) [toolkit/xre/Bootstrap.cpp:45]
14:58:47 INFO - #130: do_main [browser/app/nsBrowserApp.cpp:237]
14:58:47 INFO - #131: NS_internal_main(int,char * *,char * *) [browser/app/nsBrowserApp.cpp:309]
14:58:47 INFO - #132: wmain [toolkit/xre/nsWindowsWMain.cpp:118]
14:58:47 INFO - #133: __scrt_common_main_seh [f:/dd/vctools/crt/vcstartup/src/startup/exe_common.inl:253]
14:58:47 INFO - #134: kernel32.dll + 0x53c45
14:58:47 INFO - #135: ntdll.dll + 0x637f5
14:58:47 INFO - #136: ntdll.dll + 0x637c8
14:58:47 INFO - Hit MOZ_CRASH(GFX: An assert from the graphic logger) at z:\build\build\src\obj-firefox\dist\include\mozilla/gfx/Logging.h:521
14:58:47 INFO - #01: mozilla::gfx::Log<1,mozilla::gfx::CriticalLogger>::WriteLog(std::basic_string<char,std::char_traits<char>,std::allocator<char> > const &) [gfx/2d/Logging.h:521]
14:58:47 INFO - #02: mozilla::gfx::Log<1,mozilla::gfx::CriticalLogger>::Flush() [gfx/2d/Logging.h:284]
14:58:47 INFO - #03: mozilla::gfx::Factory::CreateDrawTarget(mozilla::gfx::BackendType,mozilla::gfx::IntSizeTyped<mozilla::gfx::UnknownUnits> const &,mozilla::gfx::SurfaceFormat) [gfx/2d/Factory.cpp:404]
14:58:47 INFO - #04: gfxPlatform::CreateDrawTargetForBackend(mozilla::gfx::BackendType,mozilla::gfx::IntSizeTyped<mozilla::gfx::UnknownUnits> const &,mozilla::gfx::SurfaceFormat) [gfx/thebes/gfxPlatform.cpp:1521]
14:58:47 INFO - #05: mozilla::layers::PersistentBufferProviderBasic::Create(mozilla::gfx::IntSizeTyped<mozilla::gfx::UnknownUnits>,mozilla::gfx::SurfaceFormat,mozilla::gfx::BackendType) [gfx/layers/PersistentBufferProvider.cpp:73]
14:58:47 INFO - #06: mozilla::layers::LayerManager::CreatePersistentBufferProvider(mozilla::gfx::IntSizeTyped<mozilla::gfx::UnknownUnits> const &,mozilla::gfx::SurfaceFormat) [gfx/layers/Layers.cpp:148]
14:58:47 INFO - #07: mozilla::layers::ClientLayerManager::CreatePersistentBufferProvider(mozilla::gfx::IntSizeTyped<mozilla::gfx::UnknownUnits> const &,mozilla::gfx::SurfaceFormat) [gfx/layers/client/ClientLayerManager.cpp:959]
14:58:47 INFO - #08: mozilla::dom::CanvasRenderingContext2D::TrySharedTarget(RefPtr<mozilla::gfx::DrawTarget> &,RefPtr<mozilla::layers::PersistentBufferProvider> &) [dom/canvas/CanvasRenderingContext2D.cpp:1883]
14:58:47 INFO - #09: mozilla::dom::CanvasRenderingContext2D::EnsureTarget(mozilla::gfx::RectTyped<mozilla::gfx::UnknownUnits,float> const *,mozilla::dom::CanvasRenderingContext2D::RenderingMode) [dom/canvas/CanvasRenderingContext2D.cpp:1694]
14:58:47 INFO - #10: mozilla::dom::CanvasRenderingContext2D::DrawWindow(nsGlobalWindow &,double,double,double,double,nsTSubstring<char16_t> const &,unsigned int,mozilla::ErrorResult &) [dom/canvas/CanvasRenderingContext2D.cpp:5504]
14:58:47 INFO - #11: mozilla::dom::CanvasRenderingContext2DBinding::drawWindow [s3:gecko-generated-sources:22ea5bebb16672b438272778152a6236f7fed03454689b84fb52b100f2bb278f870a777c404eeacfa40e547a6463146ceda6e324e9a1381c0ecf26ea92758adb/dom/bindings/CanvasRenderingContext2DBinding.cpp::2405]
14:58:47 INFO - #12: mozilla::dom::GenericBindingMethod(JSContext *,unsigned int,JS::Value *) [dom/bindings/BindingUtils.cpp:3055]
14:58:47 INFO - #13: js::CallJSNative(JSContext *,bool (*)(JSContext *,unsigned int,JS::Value *),JS::CallArgs const &) [js/src/jscntxtinlines.h:293]
14:58:47 INFO - #14: js::InternalCallOrConstruct(JSContext *,JS::CallArgs const &,js::MaybeConstruct) [js/src/vm/Interpreter.cpp:495]
14:58:47 INFO - #15: InternalCall [js/src/vm/Interpreter.cpp:540]
14:58:47 INFO - #16: js::Call(JSContext *,JS::Handle<JS::Value>,JS::Handle<JS::Value>,js::AnyInvokeArgs const &,JS::MutableHandle<JS::Value>) [js/src/vm/Interpreter.cpp:559]
14:58:47 INFO - #17: js::ForwardingProxyHandler::call(JSContext *,JS::Handle<JSObject *>,JS::CallArgs const &) [js/src/proxy/Wrapper.cpp:175]
14:58:47 INFO - #18: js::CrossCompartmentWrapper::call(JSContext *,JS::Handle<JSObject *>,JS::CallArgs const &) [js/src/proxy/CrossCompartmentWrapper.cpp:359]
14:58:47 INFO - #19: xpc::AddonWrapper<js::CrossCompartmentWrapper>::call(JSContext *,JS::Handle<JSObject *>,JS::CallArgs const &) [js/xpconnect/wrappers/AddonWrapper.cpp:155]
14:58:47 INFO - #20: js::Proxy::call(JSContext *,JS::Handle<JSObject *>,JS::CallArgs const &) [js/src/proxy/Proxy.cpp:497]
14:58:47 INFO - #21: js::proxy_Call(JSContext *,unsigned int,JS::Value *) [js/src/proxy/Proxy.cpp:757]
14:58:47 INFO - #22: js::CallJSNative(JSContext *,bool (*)(JSContext *,unsigned int,JS::Value *),JS::CallArgs const &) [js/src/jscntxtinlines.h:293]
14:58:47 INFO - #23: js::InternalCallOrConstruct(JSContext *,JS::CallArgs const &,js::MaybeConstruct) [js/src/vm/Interpreter.cpp:477]
14:58:47 INFO - #24: InternalCall [js/src/vm/Interpreter.cpp:540]
14:58:47 INFO - #25: Interpret [js/src/vm/Interpreter.cpp:3084]
14:58:47 INFO - #26: js::RunScript(JSContext *,js::RunState &) [js/src/vm/Interpreter.cpp:435]
14:58:47 INFO - #27: js::InternalCallOrConstruct(JSContext *,JS::CallArgs const &,js::MaybeConstruct) [js/src/vm/Interpreter.cpp:513]
14:58:47 INFO - #28: InternalCall [js/src/vm/Interpreter.cpp:540]
14:58:47 INFO - #29: js::Call(JSContext *,JS::Handle<JS::Value>,JS::Handle<JS::Value>,js::AnyInvokeArgs const &,JS::MutableHandle<JS::Value>) [js/src/vm/Interpreter.cpp:559]
14:58:47 INFO - #30: JS::Call(JSContext *,JS::Handle<JS::Value>,JS::Handle<JS::Value>,JS::HandleValueArray const &,JS::MutableHandle<JS::Value>) [js/src/jsapi.cpp:2965]
14:58:47 INFO - #31: xpc::SandboxCallableProxyHandler::call(JSContext *,JS::Handle<JSObject *>,JS::CallArgs const &) [js/xpconnect/src/Sandbox.cpp:698]
14:58:47 INFO - #32: js::Proxy::call(JSContext *,JS::Handle<JSObject *>,JS::CallArgs const &) [js/src/proxy/Proxy.cpp:497]
14:58:47 INFO - #33: js::proxy_Call(JSContext *,unsigned int,JS::Value *) [js/src/proxy/Proxy.cpp:757]
14:58:47 INFO - #34: js::CallJSNative(JSContext *,bool (*)(JSContext *,unsigned int,JS::Value *),JS::CallArgs const &) [js/src/jscntxtinlines.h:293]
14:58:47 INFO - #35: js::InternalCallOrConstruct(JSContext *,JS::CallArgs const &,js::MaybeConstruct) [js/src/vm/Interpreter.cpp:477]
14:58:47 INFO - #36: InternalCall [js/src/vm/Interpreter.cpp:540]
14:58:47 INFO - #37: Interpret [js/src/vm/Interpreter.cpp:3084]
14:58:47 INFO - #38: js::RunScript(JSContext *,js::RunState &) [js/src/vm/Interpreter.cpp:435]
14:58:47 INFO - #39: js::InternalCallOrConstruct(JSContext *,JS::CallArgs const &,js::MaybeConstruct) [js/src/vm/Interpreter.cpp:513]
14:58:47 INFO - #40: InternalCall [js/src/vm/Interpreter.cpp:540]
14:58:47 INFO - #41: js::Call(JSContext *,JS::Handle<JS::Value>,JS::Handle<JS::Value>,js::AnyInvokeArgs const &,JS::MutableHandle<JS::Value>) [js/src/vm/Interpreter.cpp:559]
14:58:47 INFO - #42: JS::Call(JSContext *,JS::Handle<JS::Value>,JS::Handle<JS::Value>,JS::HandleValueArray const &,JS::MutableHandle<JS::Value>) [js/src/jsapi.cpp:2965]
14:58:47 INFO - #43: xpc::SandboxCallableProxyHandler::call(JSContext *,JS::Handle<JSObject *>,JS::CallArgs const &) [js/xpconnect/src/Sandbox.cpp:698]
14:58:47 INFO - #44: js::Proxy::call(JSContext *,JS::Handle<JSObject *>,JS::CallArgs const &) [js/src/proxy/Proxy.cpp:497]
14:58:47 INFO - #45: js::proxy_Call(JSContext *,unsigned int,JS::Value *) [js/src/proxy/Proxy.cpp:757]
14:58:47 INFO - #46: js::CallJSNative(JSContext *,bool (*)(JSContext *,unsigned int,JS::Value *),JS::CallArgs const &) [js/src/jscntxtinlines.h:293]
14:58:47 INFO - #47: js::InternalCallOrConstruct(JSContext *,JS::CallArgs const &,js::MaybeConstruct) [js/src/vm/Interpreter.cpp:477]
14:58:47 INFO - #48: InternalCall [js/src/vm/Interpreter.cpp:540]
14:58:47 INFO - #49: Interpret [js/src/vm/Interpreter.cpp:3084]
14:58:47 INFO - #50: js::RunScript(JSContext *,js::RunState &) [js/src/vm/Interpreter.cpp:435]
14:58:47 INFO - #51: js::InternalCallOrConstruct(JSContext *,JS::CallArgs const &,js::MaybeConstruct) [js/src/vm/Interpreter.cpp:513]
14:58:47 INFO - #52: InternalCall [js/src/vm/Interpreter.cpp:540]
14:58:47 INFO - #53: js::Call(JSContext *,JS::Handle<JS::Value>,JS::Handle<JS::Value>,js::AnyInvokeArgs const &,JS::MutableHandle<JS::Value>) [js/src/vm/Interpreter.cpp:559]
14:58:47 INFO - #54: JS::Call(JSContext *,JS::Handle<JS::Value>,JS::Handle<JS::Value>,JS::HandleValueArray const &,JS::MutableHandle<JS::Value>) [js/src/jsapi.cpp:2965]
14:58:47 INFO - #55: xpc::SandboxCallableProxyHandler::call(JSContext *,JS::Handle<JSObject *>,JS::CallArgs const &) [js/xpconnect/src/Sandbox.cpp:698]
14:58:47 INFO - #56: js::Proxy::call(JSContext *,JS::Handle<JSObject *>,JS::CallArgs const &) [js/src/proxy/Proxy.cpp:497]
14:58:47 INFO - #57: js::proxy_Call(JSContext *,unsigned int,JS::Value *) [js/src/proxy/Proxy.cpp:757]
14:58:47 INFO - #58: js::CallJSNative(JSContext *,bool (*)(JSContext *,unsigned int,JS::Value *),JS::CallArgs const &) [js/src/jscntxtinlines.h:293]
14:58:47 INFO - #59: js::InternalCallOrConstruct(JSContext *,JS::CallArgs const &,js::MaybeConstruct) [js/src/vm/Interpreter.cpp:477]
14:58:47 INFO - #60: InternalCall [js/src/vm/Interpreter.cpp:540]
14:58:47 INFO - #61: Interpret [js/src/vm/Interpreter.cpp:3084]
14:58:47 INFO - #62: js::RunScript(JSContext *,js::RunState &) [js/src/vm/Interpreter.cpp:435]
14:58:47 INFO - #63: js::InternalCallOrConstruct(JSContext *,JS::CallArgs const &,js::MaybeConstruct) [js/src/vm/Interpreter.cpp:513]
14:58:47 INFO - #64: InternalCall [js/src/vm/Interpreter.cpp:540]
14:58:47 INFO - #65: js::Call(JSContext *,JS::Handle<JS::Value>,JS::Handle<JS::Value>,js::AnyInvokeArgs const &,JS::MutableHandle<JS::Value>) [js/src/vm/Interpreter.cpp:559]
14:58:47 INFO - #66: JS_CallFunctionValue(JSContext *,JS::Handle<JSObject *>,JS::Handle<JS::Value>,JS::HandleValueArray const &,JS::MutableHandle<JS::Value>) [js/src/jsapi.cpp:2906]
14:58:47 INFO - #67: nsFrameMessageManager::ReceiveMessage(nsISupports *,nsIFrameLoader *,bool,nsTSubstring<char16_t> const &,bool,mozilla::dom::ipc::StructuredCloneData *,mozilla::jsipc::CpowHolder *,nsIPrincipal *,nsTArray<mozilla::dom::ipc::StructuredCloneData> *) [dom/base/nsFrameMessageManager.cpp:1100]
14:58:47 INFO - #68: nsFrameMessageManager::ReceiveMessage(nsISupports *,nsIFrameLoader *,nsTSubstring<char16_t> const &,bool,mozilla::dom::ipc::StructuredCloneData *,mozilla::jsipc::CpowHolder *,nsIPrincipal *,nsTArray<mozilla::dom::ipc::StructuredCloneData> *) [dom/base/nsFrameMessageManager.cpp:911]
14:58:47 INFO - #69: nsInProcessTabChildGlobal::DoSendBlockingMessage(JSContext *,nsTSubstring<char16_t> const &,mozilla::dom::ipc::StructuredCloneData &,JS::Handle<JSObject *>,nsIPrincipal *,nsTArray<mozilla::dom::ipc::StructuredCloneData> *,bool) [dom/base/nsInProcessTabChildGlobal.cpp:44]
14:58:47 INFO - #70: nsFrameMessageManager::SendMessage(nsTSubstring<char16_t> const &,JS::Handle<JS::Value>,JS::Handle<JS::Value>,nsIPrincipal *,JSContext *,unsigned char,JS::MutableHandle<JS::Value>,bool) [dom/base/nsFrameMessageManager.cpp:651]
14:58:47 INFO - #71: nsFrameMessageManager::SendSyncMessage(nsTSubstring<char16_t> const &,JS::Handle<JS::Value>,JS::Handle<JS::Value>,nsIPrincipal *,JSContext *,unsigned char,JS::MutableHandle<JS::Value>) [dom/base/nsFrameMessageManager.cpp:558]
14:58:47 INFO - #72: nsInProcessTabChildGlobal::SendSyncMessage(nsTSubstring<char16_t> const &,JS::Handle<JS::Value>,JS::Handle<JS::Value>,nsIPrincipal *,JSContext *,unsigned char,JS::MutableHandle<JS::Value>) [dom/base/nsInProcessTabChildGlobal.h:60]
14:58:47 INFO - #73: NS_InvokeByIndex
14:58:47 INFO - #74: CallMethodHelper::Invoke() [js/xpconnect/src/XPCWrappedNative.cpp:1996]
14:58:47 INFO - #75: XPCWrappedNative::CallMethod(XPCCallContext &,XPCWrappedNative::CallMode) [js/xpconnect/src/XPCWrappedNative.cpp:1282]
14:58:47 INFO - #76: XPC_WN_CallMethod(JSContext *,unsigned int,JS::Value *) [js/xpconnect/src/XPCWrappedNativeJSOps.cpp:928]
14:58:47 INFO - #77: ??? (???:???)
14:58:47 INFO - #78: ??? (???:???)
14:58:47 INFO - #79: ??? (???:???)
14:58:47 INFO - #80: ??? (???:???)
14:58:47 INFO - #81: ??? (???:???)
14:58:47 INFO - #82: EnterBaseline [js/src/jit/BaselineJIT.cpp:164]
14:58:47 INFO - #83: js::jit::EnterBaselineMethod(JSContext *,js::RunState &) [js/src/jit/BaselineJIT.cpp:200]
14:58:47 INFO - #84: js::RunScript(JSContext *,js::RunState &) [js/src/vm/Interpreter.cpp:425]
14:58:47 INFO - #85: js::InternalCallOrConstruct(JSContext *,JS::CallArgs const &,js::MaybeConstruct) [js/src/vm/Interpreter.cpp:513]
14:58:47 INFO - #86: InternalCall [js/src/vm/Interpreter.cpp:540]
14:58:47 INFO - #87: js::Call(JSContext *,JS::Handle<JS::Value>,JS::Handle<JS::Value>,js::AnyInvokeArgs const &,JS::MutableHandle<JS::Value>) [js/src/vm/Interpreter.cpp:559]
14:58:47 INFO - #88: js::fun_apply(JSContext *,unsigned int,JS::Value *) [js/src/jsfun.cpp:1302]
14:58:47 INFO - #89: js::CallJSNative(JSContext *,bool (*)(JSContext *,unsigned int,JS::Value *),JS::CallArgs const &) [js/src/jscntxtinlines.h:293]
14:58:47 INFO - #90: js::InternalCallOrConstruct(JSContext *,JS::CallArgs const &,js::MaybeConstruct) [js/src/vm/Interpreter.cpp:495]
14:58:47 INFO - #91: InternalCall [js/src/vm/Interpreter.cpp:540]
14:58:47 INFO - #92: js::Call(JSContext *,JS::Handle<JS::Value>,JS::Handle<JS::Value>,js::AnyInvokeArgs const &,JS::MutableHandle<JS::Value>) [js/src/vm/Interpreter.cpp:559]
14:58:47 INFO - #93: js::ForwardingProxyHandler::call(JSContext *,JS::Handle<JSObject *>,JS::CallArgs const &) [js/src/proxy/Wrapper.cpp:175]
14:58:47 INFO - #94: js::CrossCompartmentWrapper::call(JSContext *,JS::Handle<JSObject *>,JS::CallArgs const &) [js/src/proxy/CrossCompartmentWrapper.cpp:359]
14:58:47 INFO - #95: js::Proxy::call(JSContext *,JS::Handle<JSObject *>,JS::CallArgs const &) [js/src/proxy/Proxy.cpp:497]
14:58:47 INFO - #96: js::proxy_Call(JSContext *,unsigned int,JS::Value *) [js/src/proxy/Proxy.cpp:757]
14:58:47 INFO - #97: js::CallJSNative(JSContext *,bool (*)(JSContext *,unsigned int,JS::Value *),JS::CallArgs const &) [js/src/jscntxtinlines.h:293]
14:58:47 INFO - #98: js::InternalCallOrConstruct(JSContext *,JS::CallArgs const &,js::MaybeConstruct) [js/src/vm/Interpreter.cpp:477]
14:58:47 INFO - #99: InternalCall [js/src/vm/Interpreter.cpp:540]
14:58:47 INFO - #100: js::jit::DoCallFallback [js/src/jit/BaselineIC.cpp:2589]
14:58:47 INFO - #101: ??? (???:???)
14:58:47 INFO - #102: ??? (???:???)
14:58:47 INFO - #103: ??? (???:???)
14:58:47 INFO - #104: EnterBaseline [js/src/jit/BaselineJIT.cpp:164]
14:58:47 INFO - #105: js::jit::EnterBaselineMethod(JSContext *,js::RunState &) [js/src/jit/BaselineJIT.cpp:200]
14:58:47 INFO - #106: js::RunScript(JSContext *,js::RunState &) [js/src/vm/Interpreter.cpp:425]
14:58:47 INFO - #107: js::InternalCallOrConstruct(JSContext *,JS::CallArgs const &,js::MaybeConstruct) [js/src/vm/Interpreter.cpp:513]
14:58:47 INFO - #108: InternalCall [js/src/vm/Interpreter.cpp:540]
14:58:47 INFO - #109: js::Call(JSContext *,JS::Handle<JS::Value>,JS::Handle<JS::Value>,js::AnyInvokeArgs const &,JS::MutableHandle<JS::Value>) [js/src/vm/Interpreter.cpp:559]
14:58:47 INFO - #110: JS_CallFunctionValue(JSContext *,JS::Handle<JSObject *>,JS::Handle<JS::Value>,JS::HandleValueArray const &,JS::MutableHandle<JS::Value>) [js/src/jsapi.cpp:2906]
14:58:47 INFO - #111: nsXPCWrappedJSClass::CallMethod(nsXPCWrappedJS *,unsigned short,XPTMethodDescriptor const *,nsXPTCMiniVariant *) [js/xpconnect/src/XPCWrappedJSClass.cpp:1318]
14:58:47 INFO - #112: nsXPCWrappedJS::CallMethod(unsigned short,XPTMethodDescriptor const *,nsXPTCMiniVariant *) [js/xpconnect/src/XPCWrappedJS.cpp:615]
14:58:47 INFO - #113: PrepareAndDispatch [xpcom/reflect/xptcall/md/win32/xptcstubs.cpp:85]
14:58:47 INFO - #114: SharedStub [xpcom/reflect/xptcall/md/win32/xptcstubs.cpp:113]
14:58:47 INFO - #115: nsTimerImpl::Fire(int) [xpcom/threads/nsTimerImpl.cpp:527]
14:58:47 INFO - #116: nsTimerEvent::Run() [xpcom/threads/TimerThread.cpp:288]
14:58:47 INFO - #117: nsThread::ProcessNextEvent(bool,bool *) [xpcom/threads/nsThread.cpp:1040]
14:58:47 INFO - #118: NS_ProcessNextEvent(nsIThread *,bool) [xpcom/threads/nsThreadUtils.cpp:521]
14:58:47 INFO - #119: mozilla::ipc::MessagePump::Run(base::MessagePump::Delegate *) [ipc/glue/MessagePump.cpp:97]
14:58:47 INFO - #120: MessageLoop::RunInternal() [ipc/chromium/src/base/message_loop.cc:326]
14:58:47 INFO - #121: MessageLoop::RunHandler() [ipc/chromium/src/base/message_loop.cc:320]
14:58:47 INFO - #122: MessageLoop::Run() [ipc/chromium/src/base/message_loop.cc:300]
14:58:47 INFO - #123: nsBaseAppShell::Run() [widget/nsBaseAppShell.cpp:160]
14:58:47 INFO - #124: nsAppShell::Run() [widget/windows/nsAppShell.cpp:230]
14:58:47 INFO - #125: nsAppStartup::Run() [toolkit/components/startup/nsAppStartup.cpp:289]
14:58:47 INFO - #126: XREMain::XRE_mainRun() [toolkit/xre/nsAppRunner.cpp:4701]
14:58:47 INFO - #127: XREMain::XRE_main(int,char * * const,mozilla::BootstrapConfig const &) [toolkit/xre/nsAppRunner.cpp:4865]
14:58:47 INFO - #128: XRE_main(int,char * * const,mozilla::BootstrapConfig const &) [toolkit/xre/nsAppRunner.cpp:4960]
14:58:47 INFO - #129: mozilla::BootstrapImpl::XRE_main(int,char * * const,mozilla::BootstrapConfig const &) [toolkit/xre/Bootstrap.cpp:45]
14:58:47 INFO - #130: do_main [browser/app/nsBrowserApp.cpp:237]
14:58:47 INFO - #131: NS_internal_main(int,char * *,char * *) [browser/app/nsBrowserApp.cpp:309]
14:58:47 INFO - #132: wmain [toolkit/xre/nsWindowsWMain.cpp:118]
14:58:47 INFO - #133: __scrt_common_main_seh [f:/dd/vctools/crt/vcstartup/src/startup/exe_common.inl:253]
14:58:47 INFO - #134: kernel32.dll + 0x53c45
14:58:47 INFO - #135: ntdll.dll + 0x637f5
14:58:47 INFO - #136: ntdll.dll + 0x637c8
14:58:47 WARNING - TEST-UNEXPECTED-FAIL | file:///Z:/task_1505829257/build/tests/reftest/tests/layout/reftests/transform-3d/preserve3d-3a.html | application terminated with exit code 1
